/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 7);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/* no static exports found */
/*!********************************!*\
  !*** ./src/javascripts/app.js ***!
  \********************************/
/***/ (function(module, exports) {

eval("var app = {};\napp.events = {};\n\napp.events.windowOnResize = new CustomEvent('window:onresize:event');\n\nwindow.onresize = function () {\n  document.dispatchEvent(app.events.windowOnResize);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvamF2YXNjcmlwdHMvYXBwLmpzPzhjMjYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IHt9O1xuYXBwLmV2ZW50cyA9IHt9O1xuXG5hcHAuZXZlbnRzLndpbmRvd09uUmVzaXplID0gbmV3IEN1c3RvbUV2ZW50KCd3aW5kb3c6b25yZXNpemU6ZXZlbnQnKTtcblxud2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGFwcC5ldmVudHMud2luZG93T25SZXNpemUpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qYXZhc2NyaXB0cy9hcHAuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 1 */
/* no static exports found */
/*!******************************************!*\
  !*** ./src/javascripts/canvas-layout.js ***!
  \******************************************/
/***/ (function(module, exports) {

eval("(function () {\n  'use strict';\n\n  var canvasContainer = document.querySelector('.canvas-container');\n  var containerRect = canvasContainer.getBoundingClientRect();\n  var tableContainer = document.querySelector('.table-container');\n\n  tableContainer.style.width = containerRect.width + 'px';\n  tableContainer.style.height = containerRect.height + 'px';\n\n  function windowOnResizeHandler() {\n    containerRect = canvasContainer.getBoundingClientRect();\n\n    tableContainer.style.width = containerRect.width + 'px';\n    tableContainer.style.height = containerRect.height + 'px';\n  }\n  document.addEventListener('window:onresize:event', windowOnResizeHandler, false);\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvamF2YXNjcmlwdHMvY2FudmFzLWxheW91dC5qcz8xMDA4Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICB2YXIgY29udGFpbmVyUmVjdCA9IGNhbnZhc0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHRhYmxlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYmxlLWNvbnRhaW5lcicpO1xuXG4gIHRhYmxlQ29udGFpbmVyLnN0eWxlLndpZHRoID0gY29udGFpbmVyUmVjdC53aWR0aCArICdweCc7XG4gIHRhYmxlQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0ICsgJ3B4JztcblxuICBmdW5jdGlvbiB3aW5kb3dPblJlc2l6ZUhhbmRsZXIgKCkge1xuICAgIGNvbnRhaW5lclJlY3QgPSBjYW52YXNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB0YWJsZUNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGNvbnRhaW5lclJlY3Qud2lkdGggKyAncHgnO1xuICAgIHRhYmxlQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0ICsgJ3B4JztcbiAgfVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3aW5kb3c6b25yZXNpemU6ZXZlbnQnLCB3aW5kb3dPblJlc2l6ZUhhbmRsZXIsIGZhbHNlKTtcblxufSgpKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvamF2YXNjcmlwdHMvY2FudmFzLWxheW91dC5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/* no static exports found */
/*!***********************************!*\
  !*** ./src/javascripts/canvas.js ***!
  \***********************************/
/***/ (function(module, exports) {

eval("var horizontalPan = 0;\nvar verticalPan = 0;\nvar panning = false;\n\nvar distLeft = 0;\nvar distRight = 0;\nvar distUp = 0;\nvar distDown = 0;\n\nfunction mouseCordinates(e) {\n  'use strict';\n\n  var canvasContainer = document.querySelector('.chart-canvas');\n  var containerRect = canvasContainer.getBoundingClientRect();\n  var offsetLeft = 0;\n  var offsetTop = 0;\n  var mx = 0;\n  var my = 0;\n\n  function offset(canvasContainer) {\n    if (!canvasContainer.parentNode) {\n      return;\n    }\n\n    offsetLeft = offsetLeft + canvasContainer.offsetLeft;\n    offsetTop = offsetTop + canvasContainer.offsetTop;\n\n    offset(canvasContainer = canvasContainer.parentNode);\n  }\n  offset(canvasContainer);\n\n  mx = containerRect.width - 1 - (e.clientX - offsetLeft);\n  my = containerRect.height - 1 - (e.clientY - offsetTop);\n};\n\n(function () {\n  'use strict';\n\n  var canvasContainer = document.querySelector('.chart-canvas');\n  var mouseDown = false;\n  var mousePos = null;\n\n  canvasContainer.onmousemove = function (e) {\n\n    mouseCordinates(e);\n\n    if (!mouseDown) {\n      return;\n    }\n\n    if (mousePos) {\n      if (mousePos.x > e.clientX) {\n        distLeft = (mousePos.x - e.clientX) * 2 / horizontalZoom;\n\n        horizontalPan = horizontalPan - distLeft;\n        //horizontalPan = horizontalPan - 16;\n      }\n\n      if (mousePos.x < e.clientX) {\n        distRight = (mousePos.x - e.clientX) * -2 / horizontalZoom;\n\n        horizontalPan = horizontalPan + distRight;\n        //horizontalPan = horizontalPan - 16;\n      }\n\n      if (mousePos.y > e.clientY) {\n        distUp = (mousePos.y - e.clientY) * 2 / verticalZoom;\n\n        verticalPan = verticalPan - distUp;\n        //verticalPan = verticalPan - 8;\n      }\n\n      if (mousePos.y < e.clientY) {\n        distDown = (mousePos.y - e.clientY) * -2 / verticalZoom;\n\n        verticalPan = verticalPan + distDown;\n        //verticalPan = verticalPan + 8;\n      }\n    }\n\n    mousePos = {};\n    mousePos.x = e.clientX;\n    mousePos.y = e.clientY;\n  };\n\n  canvasContainer.onmousedown = function () {\n    mouseDown = true;\n    panning = true;\n  };\n  canvasContainer.onmouseup = function () {\n    mousePos = null;\n\n    mouseDown = false;\n    panning = false;\n  };\n})();\n\nfunction chartCanvas() {\n  'use strict';\n\n  //CANVAS\n\n  var canvasContainer = document.querySelector('.chart-container');\n  var containerRect = canvasContainer.getBoundingClientRect();\n  var canvas = document.querySelector('.chart-canvas');\n  var context = canvas.getContext('2d');\n\n  // LOOP\n  var loopCount = 0;\n  var lastUpdate = null;\n\n  // CHART\n  // var priceData = JSON.parse(applData);\n  var priceData = applData;\n  var chartUpperVal = null;\n  var chartLowerVal = null;\n\n  // *2 to scale up canvas for retna display\n  var canvasWidth = containerRect.width * 2;\n  var canvasHeight = containerRect.height * 2;\n\n  canvas.setAttribute('width', canvasWidth);\n  canvas.setAttribute('height', canvasHeight);\n\n  canvas.style.width = canvasWidth * .5 + 'px';\n  canvas.style.height = canvasHeight * .5 + 'px';\n\n  function windowOnResizeHandler() {\n    containerRect = canvasContainer.getBoundingClientRect();\n    canvasWidth = containerRect.width * 2;\n    canvasHeight = containerRect.height * 2;\n\n    canvas.style.width = canvasWidth * .5 + 'px';\n    canvas.style.height = canvasHeight * .5 + 'px';\n\n    context.translate(canvasWidth, canvasHeight);\n  }\n  document.addEventListener('window:onresize:event', windowOnResizeHandler, false);\n\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // LOOP FUNCTION\n  // This fuction uses request animaiton frame to create a render loop\n  // for all drawn elements in the canvas.\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  function loop() {\n    // console.log('loop');\n    // if (loopCount === 1000) {\n    //   console.log('canvas loop stopped!');\n    //   return;\n    // }\n\n    var now = window.Date.now();\n\n    if (lastUpdate) {\n      var elapsed = (now - lastUpdate) / 1000;\n      lastUpdate = now;\n\n      update(elapsed);\n      render();\n    } else {\n      lastUpdate = now;\n    }\n\n    loopCount++;\n    window.requestAnimationFrame(loop);\n  }\n  window.requestAnimationFrame(loop);\n\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // Y POSITION\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  function yPointPos(pointVal, upperVal, lowerVal) {\n    // console.log('yPointPos', pointVal, upperVal, lowerVal);\n    var cHeight = canvasHeight * (17 / 18); // (9/10)\n    var valRatio = (pointVal - lowerVal) / (upperVal - lowerVal);\n    var yPos = cHeight * valRatio + canvasHeight * (1 / 18 / 2); // (1/18)/2\n    return yPos;\n  }\n\n  // ********************************************\n  // Get the high and low values of the data set\n  // ********************************************  \n  function valueRange(priceData) {\n    if (!chartUpperVal) {\n      chartUpperVal = priceData.High;\n    } else {\n      if (priceData.High > chartUpperVal) {\n        chartUpperVal = Math.ceil(priceData.High);\n        // console.log(chartUpperVal);\n      }\n    }\n    if (!chartLowerVal) {\n      chartLowerVal = priceData.Low;\n    } else {\n      if (priceData.Low < chartLowerVal) {\n        chartLowerVal = Math.floor(priceData.Low);\n        // console.log(chartLowerVal);\n      }\n    }\n  }\n  //valueRange(priceData[0]);\n\n  function roundOffVals(upperVal, lowerVal) {\n    //debugger;\n    //var startRange = Math.ceil(upperVal) - Math.floor(lowerVal);\n    //console.log(startRange);\n\n    var range = Math.ceil(upperVal) - Math.floor(lowerVal);\n    //var rangeDif = null;\n    //console.log(Math.ceil(upperVal), Math.floor(lowerVal));\n\n    var lessThen = false;\n\n    if (range < 17) {\n      //9\n      lessThen = true;\n      range = range * 10;\n    }\n\n    for (var i = 1; i < 17; i++) {\n      //9\n      if (range % 17 === 0) {\n        //9\n        break;\n      }\n      range++;\n    }\n\n    if (lessThen) {\n      range = range / 10;\n    }\n\n    //rangeDif = (range - (Math.ceil(upperVal) - Math.floor(lowerVal))) / 2;\n    //console.log(range);\n\n    chartUpperVal = chartUpperVal + (range - (Math.ceil(upperVal) - Math.floor(lowerVal))) / 2;\n    chartLowerVal = chartLowerVal - (range - (Math.ceil(upperVal) - Math.floor(lowerVal))) / 2;\n    //console.log(chartUpperVal, chartLowerVal);\n  }\n\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // BAR DISPLAY\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // console.log(priceData[0]);\n  function BarData() {\n    var self = this;\n    var i = 0;\n\n    self.color = '#aaaaaa';\n    self.x = 0;\n    self.y = 0;\n    self.width = 6;\n    self.height = 40;\n    self.buffer = 30;\n    self.offset = 40;\n    self.draw = function (n, yPos, vRange) {\n      if (i >= priceData.length) {\n        i = 0;\n        return;\n      }\n      if ((n + self.buffer) * horizontalZoom > canvasWidth + horizontalPan * horizontalZoom) {\n        i = 0;\n        roundOffVals(chartUpperVal, chartLowerVal);\n        return;\n      }\n\n      vRange(priceData[i]);\n\n      var barHighPos = yPos(priceData[i].High, chartUpperVal, chartLowerVal);\n      var barLowPos = yPos(priceData[i].Low, chartUpperVal, chartLowerVal);\n      var barOpenPos = yPos(priceData[i].Open, chartUpperVal, chartLowerVal);\n      var barClosePos = yPos(priceData[i].Close, chartUpperVal, chartLowerVal);\n\n      //console.log(chartUpperVal, chartLowerVal);\n\n\n      context.save();\n      context.beginPath();\n      context.translate(0, -(canvasHeight * .5));\n      context.scale(horizontalZoom, verticalZoom);\n      context.translate(0, canvasHeight * .5);\n\n      context.translate(-(n + self.buffer - horizontalPan), 0);\n      context.scale(horizontalZoom, 1);\n\n      context.translate(n + self.buffer - horizontalPan, 0);\n\n      // draw bar\n      context.fillStyle = 'black';\n      context.fillRect(-(n + self.buffer + 6 * horizontalZoom * .5 - .5 - horizontalPan), -barHighPos + verticalPan, self.width * horizontalZoom, barHighPos - barLowPos);\n\n      // draw open\n      context.fillStyle = 'black';\n      context.fillRect(-(n + self.buffer) + (6 * horizontalZoom * .5 + .5) + horizontalPan, -barOpenPos + verticalPan, -(10 * horizontalZoom + (6 * horizontalZoom * .5 + .5)), 5 * (horizontalZoom * horizontalZoom * horizontalZoom) / verticalZoom);\n\n      // draw close\n      context.fillStyle = 'black';\n      context.fillRect(-(n + self.buffer) - (6 * horizontalZoom * .5 - .5) + horizontalPan, -barClosePos + verticalPan, 10 * horizontalZoom + (6 * horizontalZoom * .5 - .5), 5 * (horizontalZoom * horizontalZoom * horizontalZoom) / verticalZoom);\n\n      context.restore();\n\n      i++;\n      self.draw(n + self.offset, yPointPos, vRange);\n    };\n  }\n  var barDisplay = new BarData();\n\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // process date info from bar data\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  function processDate(date) {\n    var dateArray = moment(date).format('YYYY-MMM-DD-ddd-ww').split('-');\n    var dateObj = {};\n    dateObj.year = dateArray[0];\n    dateObj.month = dateArray[1];\n    dateObj.day = dateArray[2].replace(/^0/, '');\n    dateObj.weekDay = dateArray[3];\n    dateObj.week = dateArray[4];\n    return dateObj;\n  }\n\n  function MonthYear() {\n    var self = this;\n    var i = 0;\n\n    self.color = '#000';\n    self.x = 0;\n    self.y = 0;\n    self.buffer = 30;\n    self.offset = 40;\n\n    self.draw = function (n, date) {\n      if (i >= priceData.length - 1) {\n        i = 0;\n        return;\n      }\n      if ((n + self.buffer) * horizontalZoom > canvasWidth + horizontalPan * horizontalZoom) {\n        i = 0;\n        return;\n      }\n\n      if (date(priceData[i].Date).month != date(priceData[i + 1].Date).month) {\n\n        context.font = 'normal ' + 20 + 'px Arial';\n        context.textAlign = 'center';\n        context.textBaseline = 'middle';\n        context.fillText(date(priceData[i].Date).month, -((n + self.buffer) * horizontalZoom - horizontalPan * horizontalZoom), -20);\n      }\n\n      i++;\n      self.draw(n + self.offset, date);\n    };\n  }\n  var monthYear = new MonthYear();\n\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // VERTICAL GRID LINES\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  function VerticalLines() {\n    var self = this;\n    var i = 0;\n\n    self.color = '#cccccc';\n    self.x = 0;\n    self.y = 0;\n    self.width = 2;\n    self.height = -canvasHeight;\n    self.buffer = 30;\n    self.offset = 40;\n    self.draw = function (n, date) {\n      if (i >= priceData.length - 1) {\n        i = 0;\n        return;\n      }\n      if ((n + self.buffer) * horizontalZoom > canvasWidth + horizontalPan * horizontalZoom) {\n        i = 0;\n        return;\n      }\n\n      if (date(priceData[i].Date).week != date(priceData[i + 1].Date).week) {\n        context.save();\n        context.beginPath();\n\n        context.translate(horizontalPan, 0);\n        context.translate(-horizontalPan, 0);\n        context.scale(horizontalZoom, 1);\n        context.translate(horizontalPan, 0);\n\n        context.fillStyle = self.color;\n        context.fillRect(-(n + self.buffer), self.y, self.width / horizontalZoom, self.height);\n\n        context.restore();\n      }\n\n      if (date(priceData[i].Date).month != date(priceData[i + 1].Date).month) {\n\n        context.save();\n        context.beginPath();\n\n        context.translate(horizontalPan, 0);\n        context.translate(-horizontalPan, 0);\n        context.scale(horizontalZoom, 1);\n        context.translate(horizontalPan, 0);\n\n        context.fillStyle = 'red';\n        context.fillRect(-(n + self.buffer), self.y, self.width / horizontalZoom, self.height);\n\n        context.restore();\n      }\n\n      i++;\n      self.draw(n + self.offset, date);\n    };\n  }\n  var vLines = new VerticalLines();\n\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // CHART border\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  function ChartBorder() {\n    var self = this;\n\n    self.color = 'black';\n    self.draw = function () {\n\n      context.beginPath();\n      context.fillStyle = 'black';\n      context.rect(-canvasWidth, -canvasHeight, canvasWidth, 2);\n      context.fill();\n\n      context.beginPath();\n      context.fillStyle = 'black';\n      context.rect(-2, -canvasHeight, 2, canvasHeight);\n      context.fill();\n\n      context.beginPath();\n      context.fillStyle = 'black';\n      context.rect(0, -2, -canvasWidth, 2);\n      context.fill();\n\n      context.beginPath();\n      context.fillStyle = 'black';\n      context.rect(-canvasWidth, 0, 2, -canvasHeight);\n      context.fill();\n    };\n  }\n  var chartBorder = new ChartBorder();\n\n  // function VerticalMidPoint () {\n  //   var self = this;\n  //   self.color = '#aaaaaa';\n  //   self.x = -(canvasWidth * .5);\n  //   self.y = 0;\n  //   self.width = 2;\n  //   self.height = -(canvasHeight);\n  //   self.draw = function () {\n  //     context.beginPath();\n  //     context.fillStyle = 'black';\n  //     context.rect(\n  //       self.x,\n  //       self.y,\n  //       self.width,\n  //       self.height\n  //     );\n  //     context.fill();\n  //   }\n  // }\n  // var vMidPoint = new VerticalMidPoint();\n\n  function HorizontalMidPoint() {\n    var self = this;\n    self.color = '#aaaaaa';\n    self.x = 0;\n    self.y = -(canvasHeight * .5);\n    self.width = -canvasWidth;\n    self.height = 2;\n    self.draw = function () {\n      context.beginPath();\n      context.fillStyle = 'lightblue';\n      context.fillRect(self.x, self.y, self.width, self.height);\n    };\n  }\n  var hMidPoint = new HorizontalMidPoint();\n\n  // function HorizontalLines () {\n  //   var self = this;\n  //   self.color = '#aaaaaa';\n  //   self.x = 0;\n  //   self.y = 0;\n  //   self.width = -(chartX);\n  //   self.height = 2;\n  //   self.buffer = 20;\n  //   self.offset = 80;\n  //\n  //   self.draw = function (n) {\n  //     if(-(n) < -(chartY)) {\n  //       return;\n  //     }\n  //\n  //     context.save();\n  //     context.beginPath();\n  //     context.translate(0, -(canvasHeight * .5));\n  //     context.scale(1, verticalZoom);\n  //     context.translate(0, canvasHeight * .5);\n  //     context.fillStyle = 'red';\n  //     context.fillRect(\n  //       self.x,\n  //       -(n) + verticalPan,\n  //       self.width,\n  //       self.height / verticalZoom\n  //     );\n  //     context.restore();\n  //\n  //     self.draw(n + (self.offset));\n  //   }\n  // }\n  // var hLines = new HorizontalLines();\n\n  // CURRENT PRICE PLACEMENT\n  var YaxisPoint = function (pointVal, upperVal, lowerVal) {\n    var cHeight = canvasHeight * .9;\n    var valRatio = (pointVal - lowerVal) / (upperVal - lowerVal);\n    this.pos = cHeight * valRatio + canvasHeight * .05;\n  };\n  var yPoint = new YaxisPoint(116.44, 130, 100);\n\n  // CURRENT PRICE DISPLAY\n  function CurrentPrice() {\n    var self = this;\n    self.color = 'blue';\n    self.x = 0;\n    self.y = -yPoint.pos;\n    self.width = -canvasWidth;\n    self.height = 2;\n    self.draw = function (price) {\n\n      context.save();\n      context.beginPath();\n\n      context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n      context.transform(1, 0, 0, 1, 0, canvasHeight * .5 - verticalPan);\n\n      context.beginPath();\n      context.fillStyle = self.color;\n      context.fillRect(self.x, self.y + (verticalPan + verticalPan), self.width, self.height / verticalZoom);\n\n      context.restore();\n    };\n  }\n  var cPrice = new CurrentPrice();\n\n  function HorizontalLines() {\n    var self = this;\n    self.color = '#cccccc';\n    self.x = 0;\n    self.y = 0;\n    self.width = -canvasWidth;\n    self.height = 2;\n    self.buffer = 20;\n    self.offset = canvasHeight / 18;\n    self.offsetScale = 1;\n    self.midPoint = canvasHeight * .5;\n\n    self.drawUpper = function (n, color) {\n      if (n * verticalZoom > canvasHeight * .5 + verticalPan * verticalZoom) {\n\n        if (verticalZoom <= .5) {\n          self.offsetScale = .5;\n        }\n        if (verticalZoom > .5) {\n          self.offsetScale = 1;\n        }\n\n        return;\n      }\n\n      context.save();\n      context.beginPath();\n\n      context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n      context.transform(1, 0, 0, 1, 0, canvasHeight * .5 - verticalPan);\n\n      // context.translate(0, -(canvasHeight * .5));\n      // context.scale(1, verticalZoom);\n      // context.translate(0, canvasHeight * .5);\n\n      context.fillStyle = color;\n      context.fillRect(self.x, -(self.midPoint + n) + (verticalPan + verticalPan), self.width, self.height / verticalZoom);\n\n      context.restore();\n      // console.log('n:', n, self.offset, canvasHeight)\n      self.drawUpper(n + self.offset / self.offsetScale, self.color);\n    };\n\n    self.drawLower = function (n, color) {\n\n      if (n * verticalZoom > canvasHeight * .5 - verticalPan * verticalZoom) {\n        return;\n      }\n\n      context.save();\n      context.beginPath();\n\n      context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n      context.transform(1, 0, 0, 1, 0, canvasHeight * .5 - verticalPan);\n\n      // context.translate(0, -(canvasHeight * .5));\n      // context.scale(1, verticalZoom);\n      // context.translate(0, canvasHeight * .5);\n\n      context.fillStyle = color;\n      context.fillRect(self.x, -(self.midPoint - n) + (verticalPan + verticalPan), self.width, self.height / verticalZoom);\n\n      context.restore();\n\n      self.drawLower(n + self.offset / self.offsetScale, self.color);\n    };\n  }\n  var hLines = new HorizontalLines();\n\n  function update(elapsed) {\n    // UPDATE VALUES\n  }\n\n  function render() {\n    context.clearRect(0, 0, -canvasWidth, -canvasHeight);\n    // context.strokeStyle = 'green';\n    // context.lineWidth = 15; //1 - non retana display\n    // context.strokeRect(0, 0, -(canvasWidth), -(canvasHeight));\n\n    //hLines.draw(0);\n    chartBorder.draw();\n    //chartArea.draw();\n    vLines.draw(0, processDate);\n    monthYear.draw(0, processDate);\n\n    hLines.drawUpper(hLines.offset / 2 / hLines.offsetScale, 'lightblue');\n    //vMidPoint.draw();\n    hLines.drawLower(hLines.offset / 2 / hLines.offsetScale, 'lightblue');\n    // hMidPoint.draw();\n    //cPrice.draw();\n    barDisplay.draw(0, yPointPos, valueRange);\n    //testSquare.draw();\n  }\n\n  context.translate(canvasWidth, canvasHeight);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvamF2YXNjcmlwdHMvY2FudmFzLmpzPzVhMWEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGhvcml6b250YWxQYW4gPSAwO1xudmFyIHZlcnRpY2FsUGFuID0gMDtcbnZhciBwYW5uaW5nID0gZmFsc2U7XG5cbnZhciBkaXN0TGVmdCA9IDA7XG52YXIgZGlzdFJpZ2h0ID0gMDtcbnZhciBkaXN0VXAgPSAwO1xudmFyIGRpc3REb3duID0gMDtcblxuZnVuY3Rpb24gbW91c2VDb3JkaW5hdGVzIChlKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJ0LWNhbnZhcycpO1xuICB2YXIgY29udGFpbmVyUmVjdCA9IGNhbnZhc0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIG9mZnNldExlZnQgPSAwO1xuICB2YXIgb2Zmc2V0VG9wID0gMDtcbiAgdmFyIG14ID0gMDtcbiAgdmFyIG15ID0gMDtcblxuICBmdW5jdGlvbiBvZmZzZXQgKGNhbnZhc0NvbnRhaW5lcikge1xuICAgIGlmICghY2FudmFzQ29udGFpbmVyLnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvZmZzZXRMZWZ0ID0gb2Zmc2V0TGVmdCArIGNhbnZhc0NvbnRhaW5lci5vZmZzZXRMZWZ0O1xuICAgIG9mZnNldFRvcCA9IG9mZnNldFRvcCArIGNhbnZhc0NvbnRhaW5lci5vZmZzZXRUb3A7XG5cbiAgICBvZmZzZXQoY2FudmFzQ29udGFpbmVyID0gY2FudmFzQ29udGFpbmVyLnBhcmVudE5vZGUpO1xuICB9XG4gIG9mZnNldChjYW52YXNDb250YWluZXIpO1xuXG4gIG14ID0gKGNvbnRhaW5lclJlY3Qud2lkdGggLSAxKSAtIChlLmNsaWVudFggLSBvZmZzZXRMZWZ0KTtcbiAgbXkgPSAoY29udGFpbmVyUmVjdC5oZWlnaHQgLSAxKSAtIChlLmNsaWVudFkgLSBvZmZzZXRUb3ApO1xufTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBjYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcnQtY2FudmFzJyk7XG4gIHZhciBtb3VzZURvd24gPSBmYWxzZTtcbiAgdmFyIG1vdXNlUG9zID0gbnVsbDtcblxuXG4gIGNhbnZhc0NvbnRhaW5lci5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICBtb3VzZUNvcmRpbmF0ZXMoZSk7XG5cbiAgICBpZiAoIW1vdXNlRG93bikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtb3VzZVBvcykge1xuICAgICAgaWYgKG1vdXNlUG9zLnggPiBlLmNsaWVudFgpIHtcbiAgICAgICAgZGlzdExlZnQgPSAoKG1vdXNlUG9zLnggLSBlLmNsaWVudFgpICogMikgLyBob3Jpem9udGFsWm9vbTtcblxuICAgICAgICBob3Jpem9udGFsUGFuID0gaG9yaXpvbnRhbFBhbiAtIGRpc3RMZWZ0O1xuICAgICAgICAvL2hvcml6b250YWxQYW4gPSBob3Jpem9udGFsUGFuIC0gMTY7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb3VzZVBvcy54IDwgZS5jbGllbnRYKSB7XG4gICAgICAgIGRpc3RSaWdodCA9ICgobW91c2VQb3MueCAtIGUuY2xpZW50WCkgKiAtMikgLyBob3Jpem9udGFsWm9vbTtcblxuICAgICAgICBob3Jpem9udGFsUGFuID0gaG9yaXpvbnRhbFBhbiArIGRpc3RSaWdodDtcbiAgICAgICAgLy9ob3Jpem9udGFsUGFuID0gaG9yaXpvbnRhbFBhbiAtIDE2O1xuICAgICAgfVxuXG4gICAgICBpZiAobW91c2VQb3MueSA+IGUuY2xpZW50WSkge1xuICAgICAgICBkaXN0VXAgPSAoKG1vdXNlUG9zLnkgLSBlLmNsaWVudFkpICogMikgLyB2ZXJ0aWNhbFpvb207XG5cbiAgICAgICAgdmVydGljYWxQYW4gPSB2ZXJ0aWNhbFBhbiAtIGRpc3RVcDtcbiAgICAgICAgLy92ZXJ0aWNhbFBhbiA9IHZlcnRpY2FsUGFuIC0gODtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vdXNlUG9zLnkgPCBlLmNsaWVudFkpIHtcbiAgICAgICAgZGlzdERvd24gPSAoKG1vdXNlUG9zLnkgLSBlLmNsaWVudFkpICogLTIpIC8gdmVydGljYWxab29tO1xuXG4gICAgICAgIHZlcnRpY2FsUGFuID0gdmVydGljYWxQYW4gKyBkaXN0RG93bjtcbiAgICAgICAgLy92ZXJ0aWNhbFBhbiA9IHZlcnRpY2FsUGFuICsgODtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtb3VzZVBvcyA9IHt9O1xuICAgIG1vdXNlUG9zLnggPSBlLmNsaWVudFg7XG4gICAgbW91c2VQb3MueSA9IGUuY2xpZW50WTtcbiAgfTtcblxuICBjYW52YXNDb250YWluZXIub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICBwYW5uaW5nID0gdHJ1ZTtcbiAgfTtcbiAgY2FudmFzQ29udGFpbmVyLm9ubW91c2V1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICBtb3VzZVBvcyA9IG51bGw7XG5cbiAgICBtb3VzZURvd24gPSBmYWxzZTtcbiAgICBwYW5uaW5nID0gZmFsc2U7XG4gIH07XG5cbn0oKSk7XG5cblxuZnVuY3Rpb24gY2hhcnRDYW52YXMgKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy9DQU5WQVNcbiAgdmFyIGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFydC1jb250YWluZXInKTtcbiAgdmFyIGNvbnRhaW5lclJlY3QgPSBjYW52YXNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcnQtY2FudmFzJyk7XG4gIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgLy8gTE9PUFxuICB2YXIgbG9vcENvdW50ID0gMDtcbiAgdmFyIGxhc3RVcGRhdGUgPSBudWxsO1xuXG4gIC8vIENIQVJUXG4gIC8vIHZhciBwcmljZURhdGEgPSBKU09OLnBhcnNlKGFwcGxEYXRhKTtcbiAgdmFyIHByaWNlRGF0YSA9IGFwcGxEYXRhO1xuICB2YXIgY2hhcnRVcHBlclZhbCA9IG51bGw7XG4gIHZhciBjaGFydExvd2VyVmFsID0gbnVsbDtcblxuICAvLyAqMiB0byBzY2FsZSB1cCBjYW52YXMgZm9yIHJldG5hIGRpc3BsYXlcbiAgdmFyIGNhbnZhc1dpZHRoID0gY29udGFpbmVyUmVjdC53aWR0aCAqIDI7XG4gIHZhciBjYW52YXNIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodCAqIDI7XG5cbiAgY2FudmFzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBjYW52YXNXaWR0aCk7XG4gIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGNhbnZhc0hlaWdodCk7XG5cbiAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKiAuNSArICdweCc7XG4gIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiAuNSArICdweCc7XG5cbiAgZnVuY3Rpb24gd2luZG93T25SZXNpemVIYW5kbGVyICgpIHtcbiAgICBjb250YWluZXJSZWN0ID0gY2FudmFzQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNhbnZhc1dpZHRoID0gY29udGFpbmVyUmVjdC53aWR0aCAqIDI7XG4gICAgY2FudmFzSGVpZ2h0ID0gY29udGFpbmVyUmVjdC5oZWlnaHQgKiAyO1xuXG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKiAuNSArICdweCc7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCAqIC41ICsgJ3B4JztcblxuICAgIGNvbnRleHQudHJhbnNsYXRlKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICB9XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dpbmRvdzpvbnJlc2l6ZTpldmVudCcsIHdpbmRvd09uUmVzaXplSGFuZGxlciwgZmFsc2UpO1xuXG4gIC8vID4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PlxuICAvLyBMT09QIEZVTkNUSU9OXG4gIC8vIFRoaXMgZnVjdGlvbiB1c2VzIHJlcXVlc3QgYW5pbWFpdG9uIGZyYW1lIHRvIGNyZWF0ZSBhIHJlbmRlciBsb29wXG4gIC8vIGZvciBhbGwgZHJhd24gZWxlbWVudHMgaW4gdGhlIGNhbnZhcy5cbiAgLy8gPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+XG4gIGZ1bmN0aW9uIGxvb3AgKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdsb29wJyk7XG4gICAgLy8gaWYgKGxvb3BDb3VudCA9PT0gMTAwMCkge1xuICAgIC8vICAgY29uc29sZS5sb2coJ2NhbnZhcyBsb29wIHN0b3BwZWQhJyk7XG4gICAgLy8gICByZXR1cm47XG4gICAgLy8gfVxuXG4gICAgdmFyIG5vdyA9IHdpbmRvdy5EYXRlLm5vdygpO1xuXG4gICAgaWYgKGxhc3RVcGRhdGUpIHtcbiAgICAgIHZhciBlbGFwc2VkID0gKG5vdy1sYXN0VXBkYXRlKSAvIDEwMDA7XG4gICAgICBsYXN0VXBkYXRlID0gbm93O1xuXG4gICAgICB1cGRhdGUoZWxhcHNlZCk7XG4gICAgICByZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFVwZGF0ZSA9IG5vdztcbiAgICB9XG5cbiAgICBsb29wQ291bnQrKztcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICB9XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG5cbiAgLy8gPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+XG4gIC8vIFkgUE9TSVRJT05cbiAgLy8gPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+XG4gIGZ1bmN0aW9uIHlQb2ludFBvcyAocG9pbnRWYWwsIHVwcGVyVmFsLCBsb3dlclZhbCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCd5UG9pbnRQb3MnLCBwb2ludFZhbCwgdXBwZXJWYWwsIGxvd2VyVmFsKTtcbiAgICB2YXIgY0hlaWdodCA9IGNhbnZhc0hlaWdodCAqICgxNy8xOCk7IC8vICg5LzEwKVxuICAgIHZhciB2YWxSYXRpbyA9IChwb2ludFZhbCAtIGxvd2VyVmFsKSAvICh1cHBlclZhbCAtIGxvd2VyVmFsKTtcbiAgICB2YXIgeVBvcyA9IChjSGVpZ2h0ICogdmFsUmF0aW8pICsgKGNhbnZhc0hlaWdodCAqICgoMS8xOCkvMikpOyAvLyAoMS8xOCkvMlxuICAgIHJldHVybiB5UG9zO1xuICB9XG5cblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAvLyBHZXQgdGhlIGhpZ2ggYW5kIGxvdyB2YWx1ZXMgb2YgdGhlIGRhdGEgc2V0XG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBcbiAgZnVuY3Rpb24gdmFsdWVSYW5nZSAocHJpY2VEYXRhKSB7XG4gICAgaWYgKCFjaGFydFVwcGVyVmFsKSB7XG4gICAgICBjaGFydFVwcGVyVmFsID0gcHJpY2VEYXRhLkhpZ2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcmljZURhdGEuSGlnaCA+IGNoYXJ0VXBwZXJWYWwpIHtcbiAgICAgICAgY2hhcnRVcHBlclZhbCA9IE1hdGguY2VpbChwcmljZURhdGEuSGlnaCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNoYXJ0VXBwZXJWYWwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNoYXJ0TG93ZXJWYWwpIHtcbiAgICAgIGNoYXJ0TG93ZXJWYWwgPSBwcmljZURhdGEuTG93O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJpY2VEYXRhLkxvdyA8IGNoYXJ0TG93ZXJWYWwpIHtcbiAgICAgICAgY2hhcnRMb3dlclZhbCA9IE1hdGguZmxvb3IocHJpY2VEYXRhLkxvdyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNoYXJ0TG93ZXJWYWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvL3ZhbHVlUmFuZ2UocHJpY2VEYXRhWzBdKTtcblxuICBmdW5jdGlvbiByb3VuZE9mZlZhbHMgKHVwcGVyVmFsLCBsb3dlclZhbCkge1xuICAgIC8vZGVidWdnZXI7XG4gICAgLy92YXIgc3RhcnRSYW5nZSA9IE1hdGguY2VpbCh1cHBlclZhbCkgLSBNYXRoLmZsb29yKGxvd2VyVmFsKTtcbiAgICAvL2NvbnNvbGUubG9nKHN0YXJ0UmFuZ2UpO1xuXG4gICAgdmFyIHJhbmdlID0gTWF0aC5jZWlsKHVwcGVyVmFsKSAtIE1hdGguZmxvb3IobG93ZXJWYWwpO1xuICAgIC8vdmFyIHJhbmdlRGlmID0gbnVsbDtcbiAgICAvL2NvbnNvbGUubG9nKE1hdGguY2VpbCh1cHBlclZhbCksIE1hdGguZmxvb3IobG93ZXJWYWwpKTtcblxuICAgIHZhciBsZXNzVGhlbiA9IGZhbHNlO1xuXG4gICAgaWYgKHJhbmdlIDwgMTcpIHsgLy85XG4gICAgICBsZXNzVGhlbiA9IHRydWU7XG4gICAgICByYW5nZSA9IHJhbmdlICogMTA7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDE7aSA8IDE3O2krKykgeyAvLzlcbiAgICAgIGlmIChyYW5nZSAlIDE3ID09PSAwKSB7IC8vOVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJhbmdlKys7XG4gICAgfVxuXG4gICAgaWYgKGxlc3NUaGVuKSB7XG4gICAgICByYW5nZSA9IHJhbmdlIC8gMTA7XG4gICAgfVxuXG4gICAgLy9yYW5nZURpZiA9IChyYW5nZSAtIChNYXRoLmNlaWwodXBwZXJWYWwpIC0gTWF0aC5mbG9vcihsb3dlclZhbCkpKSAvIDI7XG4gICAgLy9jb25zb2xlLmxvZyhyYW5nZSk7XG5cbiAgICBjaGFydFVwcGVyVmFsID0gY2hhcnRVcHBlclZhbCArIChyYW5nZSAtIChNYXRoLmNlaWwodXBwZXJWYWwpIC0gTWF0aC5mbG9vcihsb3dlclZhbCkpKSAvIDI7XG4gICAgY2hhcnRMb3dlclZhbCA9IGNoYXJ0TG93ZXJWYWwgLSAocmFuZ2UgLSAoTWF0aC5jZWlsKHVwcGVyVmFsKSAtIE1hdGguZmxvb3IobG93ZXJWYWwpKSkgLyAyO1xuICAgIC8vY29uc29sZS5sb2coY2hhcnRVcHBlclZhbCwgY2hhcnRMb3dlclZhbCk7XG4gIH1cblxuICAvLyA+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5cbiAgLy8gQkFSIERJU1BMQVlcbiAgLy8gPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+XG4gIC8vIGNvbnNvbGUubG9nKHByaWNlRGF0YVswXSk7XG4gIGZ1bmN0aW9uIEJhckRhdGEgKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgaSA9IDA7XG5cbiAgICBzZWxmLmNvbG9yID0gJyNhYWFhYWEnO1xuICAgIHNlbGYueCA9IDA7XG4gICAgc2VsZi55ID0gMDtcbiAgICBzZWxmLndpZHRoID0gNjtcbiAgICBzZWxmLmhlaWdodCA9IDQwO1xuICAgIHNlbGYuYnVmZmVyID0gMzA7XG4gICAgc2VsZi5vZmZzZXQgPSA0MDtcbiAgICBzZWxmLmRyYXcgPSBmdW5jdGlvbiAobiwgeVBvcywgdlJhbmdlKSB7XG4gICAgICBpZiAoaSA+PSBwcmljZURhdGEubGVuZ3RoKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoKChuICsgc2VsZi5idWZmZXIpICogaG9yaXpvbnRhbFpvb20pID4gY2FudmFzV2lkdGggKyAoaG9yaXpvbnRhbFBhbiAqIGhvcml6b250YWxab29tKSkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgcm91bmRPZmZWYWxzKGNoYXJ0VXBwZXJWYWwsIGNoYXJ0TG93ZXJWYWwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZSYW5nZShwcmljZURhdGFbaV0pO1xuXG4gICAgICB2YXIgYmFySGlnaFBvcyA9IHlQb3MocHJpY2VEYXRhW2ldLkhpZ2gsIGNoYXJ0VXBwZXJWYWwsIGNoYXJ0TG93ZXJWYWwpO1xuICAgICAgdmFyIGJhckxvd1BvcyA9IHlQb3MocHJpY2VEYXRhW2ldLkxvdywgY2hhcnRVcHBlclZhbCwgY2hhcnRMb3dlclZhbCk7XG4gICAgICB2YXIgYmFyT3BlblBvcyA9IHlQb3MocHJpY2VEYXRhW2ldLk9wZW4sIGNoYXJ0VXBwZXJWYWwsIGNoYXJ0TG93ZXJWYWwpO1xuICAgICAgdmFyIGJhckNsb3NlUG9zID0geVBvcyhwcmljZURhdGFbaV0uQ2xvc2UsIGNoYXJ0VXBwZXJWYWwsIGNoYXJ0TG93ZXJWYWwpO1xuXG4gICAgICAvL2NvbnNvbGUubG9nKGNoYXJ0VXBwZXJWYWwsIGNoYXJ0TG93ZXJWYWwpO1xuXG5cbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQudHJhbnNsYXRlKDAsICAtKGNhbnZhc0hlaWdodCAqIC41KSk7XG4gICAgICBjb250ZXh0LnNjYWxlKGhvcml6b250YWxab29tLCB2ZXJ0aWNhbFpvb20pO1xuICAgICAgY29udGV4dC50cmFuc2xhdGUoMCwgY2FudmFzSGVpZ2h0ICogLjUpO1xuXG4gICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtKG4gKyBzZWxmLmJ1ZmZlciAtIChob3Jpem9udGFsUGFuKSksIDApO1xuICAgICAgY29udGV4dC5zY2FsZShob3Jpem9udGFsWm9vbSwgMSk7XG5cbiAgICAgIGNvbnRleHQudHJhbnNsYXRlKChuICsgc2VsZi5idWZmZXIgLSAoaG9yaXpvbnRhbFBhbikpLCAwKTtcblxuICAgICAgLy8gZHJhdyBiYXJcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICAgIC0oKG4gKyBzZWxmLmJ1ZmZlciArICgoNiAqIGhvcml6b250YWxab29tKSAqIC41KSAtIC41KSAtICgoaG9yaXpvbnRhbFBhbikpKSxcbiAgICAgICAgLShiYXJIaWdoUG9zKSArICh2ZXJ0aWNhbFBhbiksXG4gICAgICAgIHNlbGYud2lkdGggKiBob3Jpem9udGFsWm9vbSxcbiAgICAgICAgKGJhckhpZ2hQb3MgLSBiYXJMb3dQb3MpXG4gICAgICApO1xuXG4gICAgICAvLyBkcmF3IG9wZW5cbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICAgIC0oKG4gKyBzZWxmLmJ1ZmZlcikpICsgKCgoNiAqIGhvcml6b250YWxab29tKSAqIC41KSArIC41KSArICgoaG9yaXpvbnRhbFBhbikpLFxuICAgICAgICAtKGJhck9wZW5Qb3MpICsgKHZlcnRpY2FsUGFuKSxcbiAgICAgICAgLSgoMTAgKiBob3Jpem9udGFsWm9vbSkgKyAoKCg2ICogaG9yaXpvbnRhbFpvb20pICogLjUpICsgLjUpKSxcbiAgICAgICAgKDUgKiAoaG9yaXpvbnRhbFpvb20gKiBob3Jpem9udGFsWm9vbSAqIGhvcml6b250YWxab29tKSkgLyB2ZXJ0aWNhbFpvb21cbiAgICAgICk7XG5cbiAgICAgIC8vIGRyYXcgY2xvc2VcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICAgIC0oKG4gKyBzZWxmLmJ1ZmZlcikpIC0gKCgoNiAqIGhvcml6b250YWxab29tKSAqIC41KSAtIC41KSArICgoaG9yaXpvbnRhbFBhbikpLFxuICAgICAgICAtKGJhckNsb3NlUG9zKSArICh2ZXJ0aWNhbFBhbiksXG4gICAgICAgICgoMTAgKiBob3Jpem9udGFsWm9vbSkgKyAoKCg2ICogaG9yaXpvbnRhbFpvb20pICogLjUpIC0gLjUpKSxcbiAgICAgICAgKDUgKiAoaG9yaXpvbnRhbFpvb20gKiBob3Jpem9udGFsWm9vbSAqIGhvcml6b250YWxab29tKSkgLyB2ZXJ0aWNhbFpvb21cbiAgICAgICk7XG5cbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICBpKys7XG4gICAgICBzZWxmLmRyYXcobiArIChzZWxmLm9mZnNldCksIHlQb2ludFBvcywgdlJhbmdlKVxuICAgIH1cblxuICB9XG4gIHZhciBiYXJEaXNwbGF5ID0gbmV3IEJhckRhdGEoKTtcblxuICAvLyA+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PlxuICAvLyBwcm9jZXNzIGRhdGUgaW5mbyBmcm9tIGJhciBkYXRhXG4gIC8vID4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+XG4gIGZ1bmN0aW9uIHByb2Nlc3NEYXRlIChkYXRlKSB7XG4gICAgdmFyIGRhdGVBcnJheSA9IG1vbWVudChkYXRlKS5mb3JtYXQoJ1lZWVktTU1NLURELWRkZC13dycpLnNwbGl0KCctJyk7XG4gICAgdmFyIGRhdGVPYmogPSB7fTtcbiAgICBkYXRlT2JqLnllYXIgPSBkYXRlQXJyYXlbMF07XG4gICAgZGF0ZU9iai5tb250aCA9IGRhdGVBcnJheVsxXTtcbiAgICBkYXRlT2JqLmRheSA9IGRhdGVBcnJheVsyXS5yZXBsYWNlKC9eMC8sICcnKTtcbiAgICBkYXRlT2JqLndlZWtEYXkgPSBkYXRlQXJyYXlbM107XG4gICAgZGF0ZU9iai53ZWVrID0gZGF0ZUFycmF5WzRdO1xuICAgIHJldHVybiBkYXRlT2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gTW9udGhZZWFyICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgc2VsZi5jb2xvciA9ICcjMDAwJztcbiAgICBzZWxmLnggPSAwO1xuICAgIHNlbGYueSA9IDA7XG4gICAgc2VsZi5idWZmZXIgPSAzMDtcbiAgICBzZWxmLm9mZnNldCA9IDQwO1xuXG4gICAgc2VsZi5kcmF3ID0gZnVuY3Rpb24gKG4sIGRhdGUpIHtcbiAgICAgIGlmIChpID49IHByaWNlRGF0YS5sZW5ndGggLSAxKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoKChuICsgc2VsZi5idWZmZXIpICogaG9yaXpvbnRhbFpvb20pID4gKGNhbnZhc1dpZHRoKSArIChob3Jpem9udGFsUGFuICogaG9yaXpvbnRhbFpvb20pKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRlKHByaWNlRGF0YVtpXS5EYXRlKS5tb250aCAhPSBkYXRlKHByaWNlRGF0YVtpICsgMV0uRGF0ZSkubW9udGgpIHtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSAnbm9ybWFsICcgKyAyMCArICdweCBBcmlhbCc7XG4gICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgICAgZGF0ZShwcmljZURhdGFbaV0uRGF0ZSkubW9udGgsXG4gICAgICAgICAgLSgoKG4gKyBzZWxmLmJ1ZmZlcikgKiBob3Jpem9udGFsWm9vbSkgLSAoaG9yaXpvbnRhbFBhbiAqIGhvcml6b250YWxab29tKSksXG4gICAgICAgICAgLTIwXG4gICAgICAgICk7XG5cbiAgICAgIH1cblxuICAgICAgaSsrO1xuICAgICAgc2VsZi5kcmF3KChuICsgc2VsZi5vZmZzZXQpLCBkYXRlKTtcblxuICAgIH1cbiAgfVxuICB2YXIgbW9udGhZZWFyID0gbmV3IE1vbnRoWWVhcigpO1xuXG4gIC8vID4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+XG4gIC8vIFZFUlRJQ0FMIEdSSUQgTElORVNcbiAgLy8gPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5cbiAgZnVuY3Rpb24gVmVydGljYWxMaW5lcyAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBpID0gMDtcblxuICAgIHNlbGYuY29sb3IgPSAnI2NjY2NjYyc7XG4gICAgc2VsZi54ID0gMDtcbiAgICBzZWxmLnkgPSAwO1xuICAgIHNlbGYud2lkdGggPSAyO1xuICAgIHNlbGYuaGVpZ2h0ID0gLShjYW52YXNIZWlnaHQpO1xuICAgIHNlbGYuYnVmZmVyID0gMzA7XG4gICAgc2VsZi5vZmZzZXQgPSA0MDtcbiAgICBzZWxmLmRyYXcgPSBmdW5jdGlvbiAobiwgZGF0ZSkge1xuICAgICAgaWYgKGkgPj0gcHJpY2VEYXRhLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICgoKG4gKyBzZWxmLmJ1ZmZlcikgKiBob3Jpem9udGFsWm9vbSkgPiAoY2FudmFzV2lkdGgpICsgKGhvcml6b250YWxQYW4gKiBob3Jpem9udGFsWm9vbSkpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGUocHJpY2VEYXRhW2ldLkRhdGUpLndlZWsgIT0gZGF0ZShwcmljZURhdGFbaSArIDFdLkRhdGUpLndlZWspIHtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoaG9yaXpvbnRhbFBhbiwgMCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC0oaG9yaXpvbnRhbFBhbiksIDApXG4gICAgICAgIGNvbnRleHQuc2NhbGUoKGhvcml6b250YWxab29tKSwgMSk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKChob3Jpem9udGFsUGFuKSwgMClcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHNlbGYuY29sb3I7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICAgICAgLSgobiArIHNlbGYuYnVmZmVyKSksXG4gICAgICAgICAgc2VsZi55LFxuICAgICAgICAgIHNlbGYud2lkdGggLyBob3Jpem9udGFsWm9vbSxcbiAgICAgICAgICBzZWxmLmhlaWdodFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0ZShwcmljZURhdGFbaV0uRGF0ZSkubW9udGggIT0gZGF0ZShwcmljZURhdGFbaSArIDFdLkRhdGUpLm1vbnRoKSB7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoaG9yaXpvbnRhbFBhbiwgMCk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKC0oaG9yaXpvbnRhbFBhbiksIDApXG4gICAgICAgIGNvbnRleHQuc2NhbGUoKGhvcml6b250YWxab29tKSwgMSk7XG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKChob3Jpem9udGFsUGFuKSwgMClcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgICAgIC0oKG4gKyBzZWxmLmJ1ZmZlcikpLFxuICAgICAgICAgIHNlbGYueSxcbiAgICAgICAgICBzZWxmLndpZHRoIC8gaG9yaXpvbnRhbFpvb20sXG4gICAgICAgICAgc2VsZi5oZWlnaHRcbiAgICAgICAgKTtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgICAgfVxuXG5cbiAgICAgIGkrKztcbiAgICAgIHNlbGYuZHJhdygobiArIHNlbGYub2Zmc2V0KSwgZGF0ZSk7XG4gICAgfVxuICB9XG4gIHZhciB2TGluZXMgPSBuZXcgVmVydGljYWxMaW5lcygpO1xuXG5cblxuICAvLyA+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5cbiAgLy8gQ0hBUlQgYm9yZGVyXG4gIC8vID4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PlxuICBmdW5jdGlvbiBDaGFydEJvcmRlciAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5jb2xvciA9ICdibGFjayc7XG4gICAgc2VsZi5kcmF3ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgY29udGV4dC5yZWN0KFxuICAgICAgICAtKGNhbnZhc1dpZHRoKSxcbiAgICAgICAgLShjYW52YXNIZWlnaHQpLFxuICAgICAgICBjYW52YXNXaWR0aCxcbiAgICAgICAgMlxuICAgICAgKTtcbiAgICAgIGNvbnRleHQuZmlsbCgpO1xuXG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgY29udGV4dC5yZWN0KFxuICAgICAgICAtMixcbiAgICAgICAgLShjYW52YXNIZWlnaHQpLFxuICAgICAgICAyLFxuICAgICAgICBjYW52YXNIZWlnaHRcbiAgICAgICk7XG4gICAgICBjb250ZXh0LmZpbGwoKTtcblxuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGNvbnRleHQucmVjdChcbiAgICAgICAgMCxcbiAgICAgICAgLTIsXG4gICAgICAgIC0oY2FudmFzV2lkdGgpLFxuICAgICAgICAyXG4gICAgICApO1xuICAgICAgY29udGV4dC5maWxsKCk7XG5cbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICBjb250ZXh0LnJlY3QoXG4gICAgICAgIC0oY2FudmFzV2lkdGgpLFxuICAgICAgICAwLFxuICAgICAgICAyLFxuICAgICAgICAtKGNhbnZhc0hlaWdodClcbiAgICAgICk7XG4gICAgICBjb250ZXh0LmZpbGwoKTtcblxuICAgIH1cblxuICB9XG4gIHZhciBjaGFydEJvcmRlciA9IG5ldyBDaGFydEJvcmRlcigpO1xuXG4gIC8vIGZ1bmN0aW9uIFZlcnRpY2FsTWlkUG9pbnQgKCkge1xuICAvLyAgIHZhciBzZWxmID0gdGhpcztcbiAgLy8gICBzZWxmLmNvbG9yID0gJyNhYWFhYWEnO1xuICAvLyAgIHNlbGYueCA9IC0oY2FudmFzV2lkdGggKiAuNSk7XG4gIC8vICAgc2VsZi55ID0gMDtcbiAgLy8gICBzZWxmLndpZHRoID0gMjtcbiAgLy8gICBzZWxmLmhlaWdodCA9IC0oY2FudmFzSGVpZ2h0KTtcbiAgLy8gICBzZWxmLmRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gIC8vICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAvLyAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAvLyAgICAgY29udGV4dC5yZWN0KFxuICAvLyAgICAgICBzZWxmLngsXG4gIC8vICAgICAgIHNlbGYueSxcbiAgLy8gICAgICAgc2VsZi53aWR0aCxcbiAgLy8gICAgICAgc2VsZi5oZWlnaHRcbiAgLy8gICAgICk7XG4gIC8vICAgICBjb250ZXh0LmZpbGwoKTtcbiAgLy8gICB9XG4gIC8vIH1cbiAgLy8gdmFyIHZNaWRQb2ludCA9IG5ldyBWZXJ0aWNhbE1pZFBvaW50KCk7XG5cbiAgZnVuY3Rpb24gSG9yaXpvbnRhbE1pZFBvaW50ICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb2xvciA9ICcjYWFhYWFhJztcbiAgICBzZWxmLnggPSAwO1xuICAgIHNlbGYueSA9IC0oY2FudmFzSGVpZ2h0ICogLjUpO1xuICAgIHNlbGYud2lkdGggPSAtKGNhbnZhc1dpZHRoKTtcbiAgICBzZWxmLmhlaWdodCA9IDI7XG4gICAgc2VsZi5kcmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2xpZ2h0Ymx1ZSc7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgICBzZWxmLngsXG4gICAgICAgIHNlbGYueSxcbiAgICAgICAgc2VsZi53aWR0aCxcbiAgICAgICAgc2VsZi5oZWlnaHRcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgdmFyIGhNaWRQb2ludCA9IG5ldyBIb3Jpem9udGFsTWlkUG9pbnQoKTtcblxuICAvLyBmdW5jdGlvbiBIb3Jpem9udGFsTGluZXMgKCkge1xuICAvLyAgIHZhciBzZWxmID0gdGhpcztcbiAgLy8gICBzZWxmLmNvbG9yID0gJyNhYWFhYWEnO1xuICAvLyAgIHNlbGYueCA9IDA7XG4gIC8vICAgc2VsZi55ID0gMDtcbiAgLy8gICBzZWxmLndpZHRoID0gLShjaGFydFgpO1xuICAvLyAgIHNlbGYuaGVpZ2h0ID0gMjtcbiAgLy8gICBzZWxmLmJ1ZmZlciA9IDIwO1xuICAvLyAgIHNlbGYub2Zmc2V0ID0gODA7XG4gIC8vXG4gIC8vICAgc2VsZi5kcmF3ID0gZnVuY3Rpb24gKG4pIHtcbiAgLy8gICAgIGlmKC0obikgPCAtKGNoYXJ0WSkpIHtcbiAgLy8gICAgICAgcmV0dXJuO1xuICAvLyAgICAgfVxuICAvL1xuICAvLyAgICAgY29udGV4dC5zYXZlKCk7XG4gIC8vICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAvLyAgICAgY29udGV4dC50cmFuc2xhdGUoMCwgLShjYW52YXNIZWlnaHQgKiAuNSkpO1xuICAvLyAgICAgY29udGV4dC5zY2FsZSgxLCB2ZXJ0aWNhbFpvb20pO1xuICAvLyAgICAgY29udGV4dC50cmFuc2xhdGUoMCwgY2FudmFzSGVpZ2h0ICogLjUpO1xuICAvLyAgICAgY29udGV4dC5maWxsU3R5bGUgPSAncmVkJztcbiAgLy8gICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gIC8vICAgICAgIHNlbGYueCxcbiAgLy8gICAgICAgLShuKSArIHZlcnRpY2FsUGFuLFxuICAvLyAgICAgICBzZWxmLndpZHRoLFxuICAvLyAgICAgICBzZWxmLmhlaWdodCAvIHZlcnRpY2FsWm9vbVxuICAvLyAgICAgKTtcbiAgLy8gICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAvL1xuICAvLyAgICAgc2VsZi5kcmF3KG4gKyAoc2VsZi5vZmZzZXQpKTtcbiAgLy8gICB9XG4gIC8vIH1cbiAgLy8gdmFyIGhMaW5lcyA9IG5ldyBIb3Jpem9udGFsTGluZXMoKTtcblxuICAvLyBDVVJSRU5UIFBSSUNFIFBMQUNFTUVOVFxuICB2YXIgWWF4aXNQb2ludCA9IGZ1bmN0aW9uIChwb2ludFZhbCwgdXBwZXJWYWwsIGxvd2VyVmFsKSB7XG4gICAgdmFyIGNIZWlnaHQgPSBjYW52YXNIZWlnaHQgKiAuOTtcbiAgICB2YXIgdmFsUmF0aW8gPSAocG9pbnRWYWwgLSBsb3dlclZhbCkgLyAodXBwZXJWYWwgLSBsb3dlclZhbCk7XG4gICAgdGhpcy5wb3MgPSAoY0hlaWdodCAqIHZhbFJhdGlvKSArIChjYW52YXNIZWlnaHQgKiAuMDUpO1xuICB9XG4gIHZhciB5UG9pbnQgPSBuZXcgWWF4aXNQb2ludCgxMTYuNDQsIDEzMCwgMTAwKTtcblxuICAvLyBDVVJSRU5UIFBSSUNFIERJU1BMQVlcbiAgZnVuY3Rpb24gQ3VycmVudFByaWNlICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb2xvciA9ICdibHVlJztcbiAgICBzZWxmLnggPSAwO1xuICAgIHNlbGYueSA9IC0oeVBvaW50LnBvcyk7XG4gICAgc2VsZi53aWR0aCA9IC0oY2FudmFzV2lkdGgpO1xuICAgIHNlbGYuaGVpZ2h0ID0gMjtcbiAgICBzZWxmLmRyYXcgPSBmdW5jdGlvbiAocHJpY2UpIHtcblxuICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICBjb250ZXh0LnRyYW5zZm9ybSgxLCAwLCAwLCB2ZXJ0aWNhbFpvb20sIDAsIC0oY2FudmFzSGVpZ2h0ICogLjUpKTtcbiAgICAgIGNvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIChjYW52YXNIZWlnaHQgKiAuNSkgLSAodmVydGljYWxQYW4pKTtcblxuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc2VsZi5jb2xvcjtcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICAgIHNlbGYueCxcbiAgICAgICAgc2VsZi55ICsgKHZlcnRpY2FsUGFuICsgdmVydGljYWxQYW4pLFxuICAgICAgICBzZWxmLndpZHRoLFxuICAgICAgICBzZWxmLmhlaWdodCAvIHZlcnRpY2FsWm9vbVxuICAgICAgKTtcblxuICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuICB9XG4gIHZhciBjUHJpY2UgPSBuZXcgQ3VycmVudFByaWNlKCk7XG5cbiAgZnVuY3Rpb24gSG9yaXpvbnRhbExpbmVzICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb2xvciA9ICcjY2NjY2NjJztcbiAgICBzZWxmLnggPSAwO1xuICAgIHNlbGYueSA9IDA7XG4gICAgc2VsZi53aWR0aCA9IC0oY2FudmFzV2lkdGgpO1xuICAgIHNlbGYuaGVpZ2h0ID0gMjtcbiAgICBzZWxmLmJ1ZmZlciA9IDIwO1xuICAgIHNlbGYub2Zmc2V0ID0gY2FudmFzSGVpZ2h0IC8gMTg7XG4gICAgc2VsZi5vZmZzZXRTY2FsZSA9IDE7XG4gICAgc2VsZi5taWRQb2ludCA9IGNhbnZhc0hlaWdodCAqIC41O1xuXG4gICAgc2VsZi5kcmF3VXBwZXIgPSBmdW5jdGlvbiAobiwgY29sb3IpIHtcbiAgICAgIGlmKG4gKiB2ZXJ0aWNhbFpvb20gPiAoY2FudmFzSGVpZ2h0ICogLjUpICsgKHZlcnRpY2FsUGFuICogdmVydGljYWxab29tKSkge1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbFpvb20gPD0gLjUpIHtcbiAgICAgICAgICBzZWxmLm9mZnNldFNjYWxlID0gLjU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlcnRpY2FsWm9vbSA+IC41KSB7XG4gICAgICAgICAgc2VsZi5vZmZzZXRTY2FsZSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgdmVydGljYWxab29tLCAwLCAtKGNhbnZhc0hlaWdodCAqIC41KSk7XG4gICAgICBjb250ZXh0LnRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAoY2FudmFzSGVpZ2h0ICogLjUpIC0gKHZlcnRpY2FsUGFuKSk7XG5cblxuICAgICAgLy8gY29udGV4dC50cmFuc2xhdGUoMCwgLShjYW52YXNIZWlnaHQgKiAuNSkpO1xuICAgICAgLy8gY29udGV4dC5zY2FsZSgxLCB2ZXJ0aWNhbFpvb20pO1xuICAgICAgLy8gY29udGV4dC50cmFuc2xhdGUoMCwgY2FudmFzSGVpZ2h0ICogLjUpO1xuXG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgY29udGV4dC5maWxsUmVjdChcbiAgICAgICAgc2VsZi54LFxuICAgICAgICAtKHNlbGYubWlkUG9pbnQgKyBuKSArICh2ZXJ0aWNhbFBhbiArIHZlcnRpY2FsUGFuKSxcbiAgICAgICAgc2VsZi53aWR0aCxcbiAgICAgICAgc2VsZi5oZWlnaHQgLyB2ZXJ0aWNhbFpvb21cbiAgICAgICk7XG5cbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ246Jywgbiwgc2VsZi5vZmZzZXQsIGNhbnZhc0hlaWdodClcbiAgICAgIHNlbGYuZHJhd1VwcGVyKG4gKyAoc2VsZi5vZmZzZXQgLyBzZWxmLm9mZnNldFNjYWxlKSwgc2VsZi5jb2xvcik7XG5cbiAgICB9XG5cbiAgICBzZWxmLmRyYXdMb3dlciA9IGZ1bmN0aW9uIChuLCBjb2xvcikge1xuXG4gICAgICBpZiAobiAqIHZlcnRpY2FsWm9vbSA+IChjYW52YXNIZWlnaHQgKiAuNSkgLSAodmVydGljYWxQYW4gKiB2ZXJ0aWNhbFpvb20pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICBjb250ZXh0LnRyYW5zZm9ybSgxLCAwLCAwLCB2ZXJ0aWNhbFpvb20sIDAsIC0oY2FudmFzSGVpZ2h0ICogLjUpKTtcbiAgICAgIGNvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIChjYW52YXNIZWlnaHQgKiAuNSkgLSAodmVydGljYWxQYW4pKTtcblxuICAgICAgLy8gY29udGV4dC50cmFuc2xhdGUoMCwgLShjYW52YXNIZWlnaHQgKiAuNSkpO1xuICAgICAgLy8gY29udGV4dC5zY2FsZSgxLCB2ZXJ0aWNhbFpvb20pO1xuICAgICAgLy8gY29udGV4dC50cmFuc2xhdGUoMCwgY2FudmFzSGVpZ2h0ICogLjUpO1xuXG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgY29udGV4dC5maWxsUmVjdChcbiAgICAgICAgc2VsZi54LFxuICAgICAgICAtKHNlbGYubWlkUG9pbnQgLSBuKSArICh2ZXJ0aWNhbFBhbiArIHZlcnRpY2FsUGFuKSxcbiAgICAgICAgc2VsZi53aWR0aCxcbiAgICAgICAgc2VsZi5oZWlnaHQgLyB2ZXJ0aWNhbFpvb21cbiAgICAgICk7XG5cbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICBzZWxmLmRyYXdMb3dlcihuICsgKHNlbGYub2Zmc2V0IC8gc2VsZi5vZmZzZXRTY2FsZSksIHNlbGYuY29sb3IpO1xuXG4gICAgfVxuICB9XG4gIHZhciBoTGluZXMgPSBuZXcgSG9yaXpvbnRhbExpbmVzKCk7XG5cblxuICBmdW5jdGlvbiB1cGRhdGUgKGVsYXBzZWQpIHtcbiAgICAvLyBVUERBVEUgVkFMVUVTXG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXIgKCkge1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIC0oY2FudmFzV2lkdGgpLCAtKGNhbnZhc0hlaWdodCkpO1xuICAgIC8vIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgIC8vIGNvbnRleHQubGluZVdpZHRoID0gMTU7IC8vMSAtIG5vbiByZXRhbmEgZGlzcGxheVxuICAgIC8vIGNvbnRleHQuc3Ryb2tlUmVjdCgwLCAwLCAtKGNhbnZhc1dpZHRoKSwgLShjYW52YXNIZWlnaHQpKTtcblxuICAgIC8vaExpbmVzLmRyYXcoMCk7XG4gICAgY2hhcnRCb3JkZXIuZHJhdygpO1xuICAgIC8vY2hhcnRBcmVhLmRyYXcoKTtcbiAgICB2TGluZXMuZHJhdygwLCBwcm9jZXNzRGF0ZSk7XG4gICAgbW9udGhZZWFyLmRyYXcoMCwgcHJvY2Vzc0RhdGUpO1xuXG4gICAgaExpbmVzLmRyYXdVcHBlcigoaExpbmVzLm9mZnNldCAvIDIpIC8gaExpbmVzLm9mZnNldFNjYWxlLCAnbGlnaHRibHVlJyk7XG4gICAgLy92TWlkUG9pbnQuZHJhdygpO1xuICAgIGhMaW5lcy5kcmF3TG93ZXIoKGhMaW5lcy5vZmZzZXQgLyAyKSAvIGhMaW5lcy5vZmZzZXRTY2FsZSwgJ2xpZ2h0Ymx1ZScpO1xuICAgIC8vIGhNaWRQb2ludC5kcmF3KCk7XG4gICAgLy9jUHJpY2UuZHJhdygpO1xuICAgIGJhckRpc3BsYXkuZHJhdygwLCB5UG9pbnRQb3MsIHZhbHVlUmFuZ2UpO1xuICAgIC8vdGVzdFNxdWFyZS5kcmF3KCk7XG4gIH1cblxuICBjb250ZXh0LnRyYW5zbGF0ZShjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2phdmFzY3JpcHRzL2NhbnZhcy5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 3 */
/* no static exports found */
/*!****************************************!*\
  !*** ./src/javascripts/chart-xaxis.js ***!
  \****************************************/
/***/ (function(module, exports) {

eval("var horizontalZoom = 1;\nvar isScaling = false;\n\n(function () {\n  'use strict';\n\n  var xaxisContainer = document.querySelector('.xaxis-canvas');\n  var mouseDown = false;\n  var mousePos = null;\n\n  xaxisContainer.onmousemove = function (e) {\n    if (!mouseDown) {\n      return;\n    }\n\n    if (mousePos) {\n      if (mousePos.x > e.clientX) {\n        horizontalZoom = horizontalZoom + .01;\n      }\n      if (mousePos.x < e.clientX) {\n        horizontalZoom = horizontalZoom - .01;\n      }\n    }\n\n    mousePos = {};\n    mousePos.x = e.clientX;\n  };\n\n  xaxisContainer.onmousedown = function () {\n    mouseDown = true;\n    isScaling = true;\n  };\n  xaxisContainer.onmouseup = function () {\n    mouseDown = false;\n    isScaling = false;\n  };\n})();\n\nfunction xAxisCanvas() {\n  var canvasContainer = document.querySelector('.xaxis-container');\n  var containerRect = canvasContainer.getBoundingClientRect();\n  var canvas = document.querySelector('.xaxis-canvas');\n  var context = canvas.getContext('2d');\n\n  var lastUpdate = null;\n\n  //CHART\n  // var priceData = JSON.parse(applData);\n  var priceData = applData;\n\n  // *2 to scale up canvas for retna display\n  var canvasWidth = containerRect.width * 2;\n  var canvasHeight = containerRect.height * 2;\n\n  canvas.setAttribute('width', canvasWidth);\n  canvas.setAttribute('height', canvasHeight);\n\n  canvas.style.width = canvasWidth * .5 + 'px';\n  canvas.style.height = canvasHeight * .5 + 'px';\n\n  function windowOnResizeHandler() {\n    containerRect = canvasContainer.getBoundingClientRect();\n    canvasWidth = containerRect.width * 2;\n    canvasHeight = containerRect.height * 2;\n\n    canvas.setAttribute('width', canvasWidth);\n    canvas.setAttribute('height', canvasHeight);\n\n    canvas.style.width = canvasWidth * .5 + 'px';\n    canvas.style.height = canvasHeight * .5 + 'px';\n\n    context.translate(canvasWidth, canvasHeight);\n  }\n  document.addEventListener('window:onresize:event', windowOnResizeHandler, false);\n\n  // CANVAS REFRESH LOOP\n  var loopCount = 0;\n  function loop() {\n    //console.log('loop');\n    // if (loopCount === 1000) {\n    //   console.log('canvas loop stopped!');\n    //   return;\n    // }\n\n    var now = window.Date.now();\n\n    if (lastUpdate) {\n      var elapsed = (now - lastUpdate) / 1000;\n      lastUpdate = now;\n\n      update(elapsed);\n      draw();\n    } else {\n      lastUpdate = now;\n    }\n\n    loopCount++;\n    window.requestAnimationFrame(loop);\n  }\n  window.requestAnimationFrame(loop);\n\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // process date info from bar data\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  function processDate(date) {\n    var dateArray = moment(date).format('YYYY-MMM-DD-ddd-ww').split('-');\n    var dateObj = {};\n    dateObj.year = dateArray[0];\n    dateObj.month = dateArray[1];\n    dateObj.day = dateArray[2].replace(/^0/, '');\n    dateObj.weekDay = dateArray[3];\n    dateObj.week = dateArray[4];\n    //console.log(day);\n    return dateObj;\n  }\n\n  function VerticalLines() {\n    var self = this;\n    var i = 0;\n\n    self.color = '#cccccc';\n    self.x = 0;\n    self.y = 0;\n    self.width = 2;\n    self.height = 15;\n    self.buffer = 30;\n    self.offset = 40;\n    self.value = 0;\n    self.draw = function (n, date) {\n      if (i >= priceData.length - 1) {\n        i = 0;\n        return;\n      }\n      if ((n + self.buffer) * horizontalZoom > canvasWidth + horizontalPan * horizontalZoom) {\n        i = 0;\n        self.value = 0;\n        return;\n      }\n\n      context.save();\n\n      context.beginPath();\n      context.scale(horizontalZoom, 1);\n      context.translate(horizontalPan, 0);\n\n      context.fillStyle = self.color;\n      context.fillRect(-(n + self.buffer), -canvasHeight, self.width / horizontalZoom, self.height);\n\n      context.restore();\n\n      var week = date(priceData[i].Date).week;\n\n      if (date(priceData[i].Date).week != date(priceData[i + 1].Date).week) {\n\n        context.font = 'normal ' + 20 + 'px Arial';\n        context.textAlign = 'center';\n        context.textBaseline = 'middle';\n        context.fillText(date(priceData[i].Date).day, -((n + self.buffer) * horizontalZoom - horizontalPan * horizontalZoom), -(canvasHeight - 30));\n      }\n\n      i++;\n      self.value++;\n      self.draw(n + self.offset, date);\n    };\n  }\n  var vLines = new VerticalLines();\n\n  function update() {\n    // UPDATE VALUES\n  }\n\n  function draw() {\n    context.clearRect(0, 0, -canvasWidth, -canvasHeight);\n    vLines.draw(0, processDate);\n  }\n\n  context.translate(canvasWidth, canvasHeight);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvamF2YXNjcmlwdHMvY2hhcnQteGF4aXMuanM/YmNlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaG9yaXpvbnRhbFpvb20gPSAxO1xudmFyIGlzU2NhbGluZyA9IGZhbHNlO1xuXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhheGlzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhheGlzLWNhbnZhcycpO1xuICB2YXIgbW91c2VEb3duID0gZmFsc2U7XG4gIHZhciBtb3VzZVBvcyA9IG51bGw7XG5cbiAgeGF4aXNDb250YWluZXIub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghbW91c2VEb3duKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1vdXNlUG9zKSB7XG4gICAgICBpZiAobW91c2VQb3MueCA+IGUuY2xpZW50WCkge1xuICAgICAgICBob3Jpem9udGFsWm9vbSA9IGhvcml6b250YWxab29tICsgLjAxO1xuICAgICAgfVxuICAgICAgaWYgKG1vdXNlUG9zLnggPCBlLmNsaWVudFgpIHtcbiAgICAgICAgaG9yaXpvbnRhbFpvb20gPSBob3Jpem9udGFsWm9vbSAtIC4wMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtb3VzZVBvcyA9IHt9O1xuICAgIG1vdXNlUG9zLnggPSBlLmNsaWVudFg7XG4gIH1cblxuICB4YXhpc0NvbnRhaW5lci5vbm1vdXNlZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICBtb3VzZURvd24gPSB0cnVlO1xuICAgIGlzU2NhbGluZyA9IHRydWU7XG5cbiAgfVxuICB4YXhpc0NvbnRhaW5lci5vbm1vdXNldXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgaXNTY2FsaW5nID0gZmFsc2U7XG4gIH1cblxufSgpKTtcblxuXG5mdW5jdGlvbiB4QXhpc0NhbnZhcyAoKSB7XG4gIHZhciBjYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueGF4aXMtY29udGFpbmVyJyk7XG4gIHZhciBjb250YWluZXJSZWN0ID0gY2FudmFzQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhheGlzLWNhbnZhcycpO1xuICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIHZhciBsYXN0VXBkYXRlID0gbnVsbDtcblxuICAvL0NIQVJUXG4gIC8vIHZhciBwcmljZURhdGEgPSBKU09OLnBhcnNlKGFwcGxEYXRhKTtcbiAgdmFyIHByaWNlRGF0YSA9IGFwcGxEYXRhO1xuXG4gIC8vICoyIHRvIHNjYWxlIHVwIGNhbnZhcyBmb3IgcmV0bmEgZGlzcGxheVxuICB2YXIgY2FudmFzV2lkdGggPSBjb250YWluZXJSZWN0LndpZHRoICogMjtcbiAgdmFyIGNhbnZhc0hlaWdodCA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0ICogMjtcblxuICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGNhbnZhc1dpZHRoKTtcbiAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgY2FudmFzSGVpZ2h0KTtcblxuICBjYW52YXMuc3R5bGUud2lkdGggPSBjYW52YXNXaWR0aCAqIC41ICsgJ3B4JztcbiAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCAqIC41ICsgJ3B4JztcblxuICBmdW5jdGlvbiB3aW5kb3dPblJlc2l6ZUhhbmRsZXIgKCkge1xuICAgIGNvbnRhaW5lclJlY3QgPSBjYW52YXNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY2FudmFzV2lkdGggPSBjb250YWluZXJSZWN0LndpZHRoICogMjtcbiAgICBjYW52YXNIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodCAqIDI7XG5cbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGNhbnZhc1dpZHRoKTtcbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBjYW52YXNIZWlnaHQpO1xuXG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKiAuNSArICdweCc7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCAqIC41ICsgJ3B4JztcblxuICAgIGNvbnRleHQudHJhbnNsYXRlKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICB9XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dpbmRvdzpvbnJlc2l6ZTpldmVudCcsIHdpbmRvd09uUmVzaXplSGFuZGxlciwgZmFsc2UpO1xuXG4gIC8vIENBTlZBUyBSRUZSRVNIIExPT1BcbiAgdmFyIGxvb3BDb3VudCA9IDA7XG4gIGZ1bmN0aW9uIGxvb3AgKCkge1xuICAgIC8vY29uc29sZS5sb2coJ2xvb3AnKTtcbiAgICAvLyBpZiAobG9vcENvdW50ID09PSAxMDAwKSB7XG4gICAgLy8gICBjb25zb2xlLmxvZygnY2FudmFzIGxvb3Agc3RvcHBlZCEnKTtcbiAgICAvLyAgIHJldHVybjtcbiAgICAvLyB9XG5cbiAgICB2YXIgbm93ID0gd2luZG93LkRhdGUubm93KCk7XG5cbiAgICBpZiAobGFzdFVwZGF0ZSkge1xuICAgICAgdmFyIGVsYXBzZWQgPSAobm93LWxhc3RVcGRhdGUpIC8gMTAwMDtcbiAgICAgIGxhc3RVcGRhdGUgPSBub3c7XG5cbiAgICAgIHVwZGF0ZShlbGFwc2VkKTtcbiAgICAgIGRyYXcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdFVwZGF0ZSA9IG5vdztcbiAgICB9XG5cbiAgICBsb29wQ291bnQrKztcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICB9XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG5cbiAgLy8gPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5cbiAgLy8gcHJvY2VzcyBkYXRlIGluZm8gZnJvbSBiYXIgZGF0YVxuICAvLyA+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PlxuICBmdW5jdGlvbiBwcm9jZXNzRGF0ZSAoZGF0ZSkge1xuICAgIHZhciBkYXRlQXJyYXkgPSBtb21lbnQoZGF0ZSkuZm9ybWF0KCdZWVlZLU1NTS1ERC1kZGQtd3cnKS5zcGxpdCgnLScpO1xuICAgIHZhciBkYXRlT2JqID0ge307XG4gICAgZGF0ZU9iai55ZWFyID0gZGF0ZUFycmF5WzBdO1xuICAgIGRhdGVPYmoubW9udGggPSBkYXRlQXJyYXlbMV07XG4gICAgZGF0ZU9iai5kYXkgPSBkYXRlQXJyYXlbMl0ucmVwbGFjZSgvXjAvLCAnJyk7XG4gICAgZGF0ZU9iai53ZWVrRGF5ID0gZGF0ZUFycmF5WzNdO1xuICAgIGRhdGVPYmoud2VlayA9IGRhdGVBcnJheVs0XTtcbiAgICAvL2NvbnNvbGUubG9nKGRheSk7XG4gICAgcmV0dXJuIGRhdGVPYmo7XG4gIH1cblxuICBmdW5jdGlvbiBWZXJ0aWNhbExpbmVzICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgc2VsZi5jb2xvciA9ICcjY2NjY2NjJztcbiAgICBzZWxmLnggPSAwO1xuICAgIHNlbGYueSA9IDA7XG4gICAgc2VsZi53aWR0aCA9IDI7XG4gICAgc2VsZi5oZWlnaHQgPSAxNTtcbiAgICBzZWxmLmJ1ZmZlciA9IDMwO1xuICAgIHNlbGYub2Zmc2V0ID0gNDA7XG4gICAgc2VsZi52YWx1ZSA9IDA7XG4gICAgc2VsZi5kcmF3ID0gZnVuY3Rpb24gKG4sIGRhdGUpIHtcbiAgICAgIGlmIChpID49IHByaWNlRGF0YS5sZW5ndGggLSAxKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoKChuICsgc2VsZi5idWZmZXIpICogaG9yaXpvbnRhbFpvb20pID4gY2FudmFzV2lkdGggKyAoaG9yaXpvbnRhbFBhbiAqIGhvcml6b250YWxab29tKSkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgc2VsZi52YWx1ZSA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5zYXZlKCk7XG5cbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0LnNjYWxlKGhvcml6b250YWxab29tLCAxKTtcbiAgICAgIGNvbnRleHQudHJhbnNsYXRlKGhvcml6b250YWxQYW4sIDApO1xuXG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHNlbGYuY29sb3I7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgICAtKG4gKyBzZWxmLmJ1ZmZlciksXG4gICAgICAgIC0oY2FudmFzSGVpZ2h0KSxcbiAgICAgICAgc2VsZi53aWR0aCAvIGhvcml6b250YWxab29tLFxuICAgICAgICBzZWxmLmhlaWdodFxuICAgICAgKTtcblxuICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgIHZhciB3ZWVrID0gZGF0ZShwcmljZURhdGFbaV0uRGF0ZSkud2VlaztcblxuICAgICAgaWYgKGRhdGUocHJpY2VEYXRhW2ldLkRhdGUpLndlZWsgIT0gZGF0ZShwcmljZURhdGFbaSArIDFdLkRhdGUpLndlZWspIHtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSAnbm9ybWFsICcgKyAyMCArICdweCBBcmlhbCc7XG4gICAgICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgICAgZGF0ZShwcmljZURhdGFbaV0uRGF0ZSkuZGF5LFxuICAgICAgICAgIC0oKChuICsgc2VsZi5idWZmZXIpICogaG9yaXpvbnRhbFpvb20pIC0gKGhvcml6b250YWxQYW4gKiBob3Jpem9udGFsWm9vbSkpLFxuICAgICAgICAgIC0oY2FudmFzSGVpZ2h0IC0gMzApXG4gICAgICAgICk7XG5cbiAgICAgIH1cblxuICAgICAgaSsrO1xuICAgICAgc2VsZi52YWx1ZSsrO1xuICAgICAgc2VsZi5kcmF3KG4gKyAoc2VsZi5vZmZzZXQpLCBkYXRlKTtcbiAgICB9XG4gIH1cbiAgdmFyIHZMaW5lcyA9IG5ldyBWZXJ0aWNhbExpbmVzKCk7XG5cblxuICBmdW5jdGlvbiB1cGRhdGUgKCkge1xuICAgIC8vIFVQREFURSBWQUxVRVNcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXcgKCkge1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIC0oY2FudmFzV2lkdGgpLCAtKGNhbnZhc0hlaWdodCkpO1xuICAgIHZMaW5lcy5kcmF3KDAsIHByb2Nlc3NEYXRlKTtcbiAgfVxuXG4gIGNvbnRleHQudHJhbnNsYXRlKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvamF2YXNjcmlwdHMvY2hhcnQteGF4aXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 4 */
/* no static exports found */
/*!****************************************!*\
  !*** ./src/javascripts/chart-yaxis.js ***!
  \****************************************/
/***/ (function(module, exports) {

eval("var verticalZoom = 1;\nvar scaleDirection = 'down';\nvar scaling = true;\n\n(function yAxisZoom() {\n  'use strict';\n\n  var yaxisContainer = document.querySelector('.yaxis-canvas');\n  var mouseDown = false;\n  var mousePos = null;\n\n  yaxisContainer.onmousemove = function (e) {\n    if (!mouseDown) {\n      return;\n    }\n\n    if (mousePos) {\n      if (mousePos.y > e.clientY) {\n        verticalZoom = verticalZoom + .04;\n        scaleDirection = 'up';\n      }\n      if (mousePos.y < e.clientY) {\n        verticalZoom = verticalZoom - .04;\n        scaleDirection = 'down';\n      }\n    }\n\n    mousePos = {};\n    mousePos.y = e.clientY;\n  };\n\n  yaxisContainer.onmousedown = function () {\n    mouseDown = true;\n    scaling = true;\n  };\n  yaxisContainer.onmouseup = function () {\n    mouseDown = false;\n    scaling = false;\n  };\n})();\n\nfunction yAxisCanvas() {\n  var canvasContainer = document.querySelector('.yaxis-container');\n  var containerRect = canvasContainer.getBoundingClientRect();\n  var canvas = document.querySelector('.yaxis-canvas');\n  var context = canvas.getContext('2d');\n  //LOOP\n  var lastUpdate = null;\n\n  //CHART\n  // var priceData = JSON.parse(applData);\n  var priceData = applData;\n\n  // *2 to scale up canvas for retna display\n  var canvasWidth = containerRect.width * 2;\n  var canvasHeight = containerRect.height * 2;\n\n  canvas.setAttribute('width', canvasWidth);\n  canvas.setAttribute('height', canvasHeight);\n\n  canvas.style.width = canvasWidth * .5 + 'px';\n  canvas.style.height = canvasHeight * .5 + 'px';\n\n  function windowOnResizeHandler() {\n    containerRect = canvasContainer.getBoundingClientRect();\n    canvasWidth = containerRect.width * 2;\n    canvasHeight = containerRect.height * 2;\n\n    canvas.style.width = canvasWidth * .5 + 'px';\n    canvas.style.height = canvasHeight * .5 + 'px';\n\n    context.translate(canvasWidth, canvasHeight);\n  }\n  document.addEventListener('window:onresize:event', windowOnResizeHandler, false);\n\n  // CANVAS REFRESH LOOP\n  var loopCount = 0;\n  function loop() {\n    //console.log('loop');\n    // if (loopCount === 1000) {\n    //   console.log('canvas loop stopped!');\n    //   return;\n    // }\n\n    var now = window.Date.now();\n\n    if (lastUpdate) {\n      var elapsed = (now - lastUpdate) / 1000;\n      lastUpdate = now;\n\n      update(elapsed);\n      render();\n    } else {\n      lastUpdate = now;\n    }\n\n    loopCount++;\n    window.requestAnimationFrame(loop);\n  }\n  window.requestAnimationFrame(loop);\n\n  // CURRENT PRICE PLACEMENT\n  var YaxisPoint = function (pointVal, upperVal, lowerVal) {\n    //debugger;\n    var cHeight = canvasHeight * .9;\n    // var valRatio = (pointVal - lowerVal) / (upperVal - lowerVal);\n    var valRatio = pointVal;\n    this.pos = cHeight * valRatio + canvasHeight * .05;\n\n    //console.log(this.pos)\n  };\n  // var yPoint = new YaxisPoint(116.44, 130, 100);\n  // the first argument looks like it should be the open of the\n  // first bar's data, the second 2 arguments aren't doing anything\n  // var yPoint = new YaxisPoint(116.44, 130, 100);\n  var yPoint = new YaxisPoint(2201.7, 130, 100);\n\n  // CURRENT PRICE DISPLAY\n  function CurrentPrice() {\n    var self = this;\n    self.color = 'blue';\n    self.x = 0;\n    self.y = -yPoint.pos;\n    self.width = -canvasWidth;\n    self.height = 2;\n    self.draw = function (price) {\n\n      context.save();\n      context.beginPath();\n\n      context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n      context.transform(1, 0, 0, 1, 0, canvasHeight * .5 - verticalPan);\n\n      context.beginPath();\n      context.fillStyle = self.color;\n      context.fillRect(self.x, self.y + (verticalPan + verticalPan), self.width, self.height / verticalZoom);\n\n      context.restore();\n    };\n  }\n  var cPrice = new CurrentPrice();\n\n  function HorizontalUpperRange() {\n    var self = this;\n    self.color = '#aaaaaa';\n    self.x = 0;\n    self.y = -(canvasHeight * .95);\n    self.width = -canvasWidth;\n    self.height = 1.5;\n    self.draw = function () {\n      context.beginPath();\n      context.fillStyle = 'lightblue';\n      context.fillRect(self.x, self.y, self.width, self.height);\n    };\n  }\n  var hUpperRange = new HorizontalUpperRange();\n\n  function HorizontalMidPoint() {\n    var self = this;\n    self.color = '#aaaaaa';\n    self.x = 0;\n    self.y = -(canvasHeight * .5);\n    self.width = -canvasWidth;\n    self.height = 2;\n    self.draw = function () {\n      context.beginPath();\n      context.fillStyle = 'lightblue';\n      context.fillRect(self.x, self.y, self.width, self.height);\n    };\n  }\n  var hMidPoint = new HorizontalMidPoint();\n\n  function HorizontalLowerRange() {\n    var self = this;\n    self.color = '#aaaaaa';\n    self.x = 0;\n    self.y = -(canvasHeight * .05);\n    self.width = -canvasWidth;\n    self.height = 1.5;\n    self.draw = function () {\n      context.beginPath();\n      context.fillStyle = 'lightblue';\n      context.fillRect(self.x, self.y, self.width, self.height);\n    };\n  }\n  var hLowerRange = new HorizontalLowerRange();\n\n  //.log(priceData[0]);\n  var i = 0;\n  function getRange() {\n\n    //priceData[i];\n\n    i++;\n  }\n\n  // DISPLAY VALUES >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n  var YaxisValues = function (high, low) {\n    //debugger;\n\n    this.range = high - low;\n    //this.offset = this.range / 17; //9\n    this.offset = this.range / 17; //9\n    if (verticalZoom <= .5) {\n      this.highStart = 9 * this.offset + this.offset * .5 + low; //5\n      this.lowStart = 8 * this.offset + low; //4\n    }\n    if (verticalZoom > .5) {\n      this.highStart = 9 * this.offset + low; //5\n      this.lowStart = 8 * this.offset + low; //4\n    }\n\n    //console.log('midVal', +(this.highStart).toFixed(4), 'lowerStart', +(this.lowStart).toFixed(4), 'offset', +(this.offset).toFixed(4));\n  };\n  //TODO: add dynamic values\n  // var yVals = new YaxisValues(138, 87); //133. 92\n  var yVals = new YaxisValues(2764.5, 1013.5); //133. 92\n\n\n  function HorizontalLines() {\n    var self = this;\n    var i = 0;\n    var yScale = 1;\n\n    self.color = '#cccccc';\n    self.x = -canvasWidth;\n    self.y = 0;\n    self.width = 15;\n    self.height = 2;\n    self.buffer = 20;\n    self.offset = canvasHeight * .5 / 9;\n    self.offsetScale = 1;\n    self.midPoint = canvasHeight * .5;\n    self.highVal = yVals.highStart;\n    self.lowerVal = yVals.lowStart;\n    self.yValsScale = 1;\n\n    // non split approach\n    // self.draw = function (n) {\n    //   if ((n * verticalZoom) > (canvasHeight * 10) + (verticalPan)) {\n    //     self.val = 0;\n    //     return;\n    //   }\n    //\n    //   var factoredPan = (verticalPan / verticalZoom);\n    //\n    //   context.save();\n    //   context.beginPath();\n    //\n    //   // context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n    //   // context.transform(1, 0, 0, 1, 0, (canvasHeight * .5) + (verticalPan / verticalZoom));\n    //\n    //   //context.transform(1, 0, 0, verticalZoom, 0, (verticalPan));\n    //\n    //   context.transform(1, 0, 0, verticalZoom, 0, -((canvasHeight/2)) );\n    //   context.transform(1, 0, 0, 1, 0, ((canvasHeight/2)) - (verticalPan));\n    //\n    //   // context.transform(1, 0, 0, 1, 0, (verticalPan));\n    //   // context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n    //   // context.transform(1, 0, 0, 1, 0, canvasHeight * .5);\n    //\n    //   //context.transform(1, 0, 0, 1, 0, (verticalPan * 2));\n    //   //context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n    //   //context.transform(1, 0, 0, 1, 0, (canvasHeight * .5) - (verticalPan / verticalZoom));\n    //\n    //   //context.transform(1, 0, 0, 1, 0, (canvasHeight * .5) + (verticalPan / verticalZoom));\n    //\n    //   context.fillStyle = 'red';\n    //   context.fillRect(\n    //     self.x,\n    //     -(n) + (verticalPan * 2),\n    //     self.width,\n    //     self.height / verticalZoom\n    //   );\n    //\n    //   context.restore();\n    //\n    //   // context.font = 'normal ' + 20 + 'px Arial';\n    //   // context.textBaseline = 'middle';\n    //   // context.fillText(\n    //   //   self.val,\n    //   //   -(canvasWidth - 20),\n    //   //   -(n) - (verticalPan / verticalZoom)\n    //   // );\n    //\n    //   self.val = self.val + 10;\n    //   self.draw(n + (self.offset));\n    // }\n\n    self.drawUpper = function (n, color) {\n      //console.log(direction);\n      getRange();\n      if (n * verticalZoom > canvasHeight * .5 + verticalPan * verticalZoom) {\n        //debugger;\n        self.highVal = +yVals.highStart;\n        //console.log(i);\n        //console.log(verticalZoom);\n        if (verticalZoom <= .5) {\n          self.offsetScale = .5;\n          self.yValsScale = 2;\n          self.highVal = self.highVal + yVals.offset * .5;\n        }\n        if (verticalZoom > .5) {\n          self.offsetScale = 1;\n          self.yValsScale = 1;\n          self.highVal = yVals.highStart;\n        }\n\n        i = 0;\n        return;\n      }\n\n      context.save();\n      context.beginPath();\n\n      // vertical zoom\n      context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n      // vertical pan\n      context.transform(1, 0, 0, 1, 0, canvasHeight * .5 - verticalPan);\n\n      context.fillStyle = self.color;\n      context.fillRect(self.x, -(self.midPoint + n) + (verticalPan + verticalPan), self.width, self.height / verticalZoom);\n\n      context.restore();\n\n      context.beginPath();\n      context.font = 'normal ' + 20 + 'px Arial';\n      context.textBaseline = 'middle';\n      context.fillStyle = 'black';\n      context.fillText(self.highVal.toFixed(2), -(canvasWidth - 20), -(n * verticalZoom + self.midPoint - verticalPan * verticalZoom));\n\n      i++;\n      self.highVal = +self.highVal + +(yVals.offset * self.yValsScale);\n      self.drawUpper(n + self.offset / self.offsetScale, self.color);\n    };\n\n    self.drawLower = function (n, color) {\n      if (n * verticalZoom > canvasHeight * .5 - verticalPan * verticalZoom) {\n        self.lowerVal = +yVals.lowStart;\n\n        if (verticalZoom <= .5) {\n          //self.offsetScale = .5;\n          //self.yValsScale = 2;\n          self.lowerVal = self.lowerVal - yVals.offset * .5;\n        }\n        if (verticalZoom > .5) {\n          //self.offsetScale = 1;\n          //self.yValsScale = 1;\n          self.lowerVal = yVals.lowStart;\n        }\n\n        return;\n      }\n\n      // console.log(verticalPan);\n\n      context.save();\n      context.beginPath();\n\n      context.transform(1, 0, 0, verticalZoom, 0, -(canvasHeight * .5));\n      context.transform(1, 0, 0, 1, 0, canvasHeight * .5 - verticalPan);\n      // context.translate(0, -(canvasHeight * .5));\n      // context.scale(1, verticalZoom);\n      // context.translate(0, canvasHeight * .5);\n\n      // console.log(verticalPan);\n\n      context.fillStyle = color;\n      context.fillRect(self.x, -(self.midPoint - n) + verticalPan + verticalPan, self.width, self.height / verticalZoom);\n\n      context.restore();\n\n      context.beginPath();\n      context.font = 'normal ' + 20 + 'px Arial';\n      context.textBaseline = 'middle';\n      context.fillStyle = 'black';\n      context.fillText(self.lowerVal.toFixed(2), -(canvasWidth - 20), n * verticalZoom - self.midPoint + verticalPan * verticalZoom);\n\n      self.lowerVal = self.lowerVal - yVals.offset * self.yValsScale;\n      self.drawLower(n + self.offset / self.offsetScale, self.color);\n    };\n  }\n  var hLines = new HorizontalLines();\n\n  function update(elapsed) {}\n\n  function render() {\n    context.clearRect(0, 0, -canvasWidth, -canvasHeight);\n\n    //hLines.draw(0);\n    //scale.draw();\n\n    // hUpperRange.draw();\n    // hMidPoint.draw();\n    // hLowerRange.draw()\n\n    hLines.drawUpper(hLines.offset / 2 / hLines.offsetScale, 'lightblue');\n    hLines.drawLower(hLines.offset / 2 / hLines.offsetScale, 'lightblue');\n    //cPrice.draw();\n  }\n\n  context.translate(canvasWidth, canvasHeight);\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvamF2YXNjcmlwdHMvY2hhcnQteWF4aXMuanM/MmFhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdmVydGljYWxab29tID0gMTtcbnZhciBzY2FsZURpcmVjdGlvbiA9ICdkb3duJztcbnZhciBzY2FsaW5nID0gdHJ1ZTtcblxuKGZ1bmN0aW9uICB5QXhpc1pvb20gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHlheGlzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnlheGlzLWNhbnZhcycpO1xuICB2YXIgbW91c2VEb3duID0gZmFsc2U7XG4gIHZhciBtb3VzZVBvcyA9IG51bGw7XG5cbiAgeWF4aXNDb250YWluZXIub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghbW91c2VEb3duKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1vdXNlUG9zKSB7XG4gICAgICBpZiAobW91c2VQb3MueSA+IGUuY2xpZW50WSkge1xuICAgICAgICB2ZXJ0aWNhbFpvb20gPSB2ZXJ0aWNhbFpvb20gKyAuMDQ7XG4gICAgICAgIHNjYWxlRGlyZWN0aW9uID0gJ3VwJztcbiAgICAgIH1cbiAgICAgIGlmIChtb3VzZVBvcy55IDwgZS5jbGllbnRZKSB7XG4gICAgICAgIHZlcnRpY2FsWm9vbSA9IHZlcnRpY2FsWm9vbSAtIC4wNDtcbiAgICAgICAgc2NhbGVEaXJlY3Rpb24gPSAnZG93bic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbW91c2VQb3MgPSB7fTtcbiAgICBtb3VzZVBvcy55ID0gZS5jbGllbnRZO1xuICB9XG5cbiAgeWF4aXNDb250YWluZXIub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICBzY2FsaW5nID0gdHJ1ZTtcbiAgfVxuICB5YXhpc0NvbnRhaW5lci5vbm1vdXNldXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgc2NhbGluZyA9IGZhbHNlO1xuICB9XG5cbn0oKSk7XG5cbmZ1bmN0aW9uIHlBeGlzQ2FudmFzICgpIHtcbiAgdmFyIGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy55YXhpcy1jb250YWluZXInKTtcbiAgdmFyIGNvbnRhaW5lclJlY3QgPSBjYW52YXNDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueWF4aXMtY2FudmFzJyk7XG4gIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIC8vTE9PUFxuICB2YXIgbGFzdFVwZGF0ZSA9IG51bGw7XG5cbiAgLy9DSEFSVFxuICAvLyB2YXIgcHJpY2VEYXRhID0gSlNPTi5wYXJzZShhcHBsRGF0YSk7XG4gIHZhciBwcmljZURhdGEgPSBhcHBsRGF0YTtcblxuICAvLyAqMiB0byBzY2FsZSB1cCBjYW52YXMgZm9yIHJldG5hIGRpc3BsYXlcbiAgdmFyIGNhbnZhc1dpZHRoID0gY29udGFpbmVyUmVjdC53aWR0aCAqIDI7XG4gIHZhciBjYW52YXNIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodCAqIDI7XG5cbiAgY2FudmFzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBjYW52YXNXaWR0aCk7XG4gIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGNhbnZhc0hlaWdodCk7XG5cbiAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKiAuNSArICdweCc7XG4gIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiAuNSArICdweCc7XG5cbiAgZnVuY3Rpb24gd2luZG93T25SZXNpemVIYW5kbGVyICgpIHtcbiAgICBjb250YWluZXJSZWN0ID0gY2FudmFzQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNhbnZhc1dpZHRoID0gY29udGFpbmVyUmVjdC53aWR0aCAqIDI7XG4gICAgY2FudmFzSGVpZ2h0ID0gY29udGFpbmVyUmVjdC5oZWlnaHQgKiAyO1xuXG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzV2lkdGggKiAuNSArICdweCc7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhc0hlaWdodCAqIC41ICsgJ3B4J1xuXG4gICAgY29udGV4dC50cmFuc2xhdGUoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG4gIH1cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2luZG93Om9ucmVzaXplOmV2ZW50Jywgd2luZG93T25SZXNpemVIYW5kbGVyLCBmYWxzZSk7XG5cbiAgLy8gQ0FOVkFTIFJFRlJFU0ggTE9PUFxuICB2YXIgbG9vcENvdW50ID0gMDtcbiAgZnVuY3Rpb24gbG9vcCAoKSB7XG4gICAgLy9jb25zb2xlLmxvZygnbG9vcCcpO1xuICAgIC8vIGlmIChsb29wQ291bnQgPT09IDEwMDApIHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdjYW52YXMgbG9vcCBzdG9wcGVkIScpO1xuICAgIC8vICAgcmV0dXJuO1xuICAgIC8vIH1cblxuICAgIHZhciBub3cgPSB3aW5kb3cuRGF0ZS5ub3coKTtcblxuICAgIGlmIChsYXN0VXBkYXRlKSB7XG4gICAgICB2YXIgZWxhcHNlZCA9IChub3ctbGFzdFVwZGF0ZSkgLyAxMDAwO1xuICAgICAgbGFzdFVwZGF0ZSA9IG5vdztcblxuICAgICAgdXBkYXRlKGVsYXBzZWQpO1xuICAgICAgcmVuZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RVcGRhdGUgPSBub3c7XG4gICAgfVxuXG4gICAgbG9vcENvdW50Kys7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfVxuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuXG4gIC8vIENVUlJFTlQgUFJJQ0UgUExBQ0VNRU5UXG4gIHZhciBZYXhpc1BvaW50ID0gZnVuY3Rpb24gKHBvaW50VmFsLCB1cHBlclZhbCwgbG93ZXJWYWwpIHtcbiAgICAvL2RlYnVnZ2VyO1xuICAgIHZhciBjSGVpZ2h0ID0gY2FudmFzSGVpZ2h0ICogLjk7XG4gICAgLy8gdmFyIHZhbFJhdGlvID0gKHBvaW50VmFsIC0gbG93ZXJWYWwpIC8gKHVwcGVyVmFsIC0gbG93ZXJWYWwpO1xuICAgIHZhciB2YWxSYXRpbyA9IHBvaW50VmFsO1xuICAgIHRoaXMucG9zID0gKGNIZWlnaHQgKiB2YWxSYXRpbykgKyAoY2FudmFzSGVpZ2h0ICogLjA1KTtcblxuICAgIC8vY29uc29sZS5sb2codGhpcy5wb3MpXG4gIH1cbiAgLy8gdmFyIHlQb2ludCA9IG5ldyBZYXhpc1BvaW50KDExNi40NCwgMTMwLCAxMDApO1xuICAvLyB0aGUgZmlyc3QgYXJndW1lbnQgbG9va3MgbGlrZSBpdCBzaG91bGQgYmUgdGhlIG9wZW4gb2YgdGhlXG4gIC8vIGZpcnN0IGJhcidzIGRhdGEsIHRoZSBzZWNvbmQgMiBhcmd1bWVudHMgYXJlbid0IGRvaW5nIGFueXRoaW5nXG4gIC8vIHZhciB5UG9pbnQgPSBuZXcgWWF4aXNQb2ludCgxMTYuNDQsIDEzMCwgMTAwKTtcbiAgdmFyIHlQb2ludCA9IG5ldyBZYXhpc1BvaW50KDIyMDEuNywgMTMwLCAxMDApO1xuXG4gIC8vIENVUlJFTlQgUFJJQ0UgRElTUExBWVxuICBmdW5jdGlvbiBDdXJyZW50UHJpY2UgKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNvbG9yID0gJ2JsdWUnO1xuICAgIHNlbGYueCA9IDA7XG4gICAgc2VsZi55ID0gLSh5UG9pbnQucG9zKTtcbiAgICBzZWxmLndpZHRoID0gLShjYW52YXNXaWR0aCk7XG4gICAgc2VsZi5oZWlnaHQgPSAyO1xuICAgIHNlbGYuZHJhdyA9IGZ1bmN0aW9uIChwcmljZSkge1xuXG4gICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgIGNvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIHZlcnRpY2FsWm9vbSwgMCwgLShjYW52YXNIZWlnaHQgKiAuNSkpO1xuICAgICAgY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgKGNhbnZhc0hlaWdodCAqIC41KSAtICh2ZXJ0aWNhbFBhbikpO1xuXG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzZWxmLmNvbG9yO1xuICAgICAgY29udGV4dC5maWxsUmVjdChcbiAgICAgICAgc2VsZi54LFxuICAgICAgICBzZWxmLnkgKyAodmVydGljYWxQYW4gKyB2ZXJ0aWNhbFBhbiksXG4gICAgICAgIHNlbGYud2lkdGgsXG4gICAgICAgIHNlbGYuaGVpZ2h0IC8gdmVydGljYWxab29tXG4gICAgICApO1xuXG4gICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNQcmljZSA9IG5ldyBDdXJyZW50UHJpY2UoKTtcblxuXG4gIGZ1bmN0aW9uIEhvcml6b250YWxVcHBlclJhbmdlICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb2xvciA9ICcjYWFhYWFhJztcbiAgICBzZWxmLnggPSAwO1xuICAgIHNlbGYueSA9IC0oY2FudmFzSGVpZ2h0ICogLjk1KTtcbiAgICBzZWxmLndpZHRoID0gLShjYW52YXNXaWR0aCk7XG4gICAgc2VsZi5oZWlnaHQgPSAxLjU7XG4gICAgc2VsZi5kcmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2xpZ2h0Ymx1ZSc7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgICBzZWxmLngsXG4gICAgICAgIHNlbGYueSxcbiAgICAgICAgc2VsZi53aWR0aCxcbiAgICAgICAgc2VsZi5oZWlnaHRcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHZhciBoVXBwZXJSYW5nZSA9IG5ldyBIb3Jpem9udGFsVXBwZXJSYW5nZSgpO1xuXG4gIGZ1bmN0aW9uIEhvcml6b250YWxNaWRQb2ludCAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuY29sb3IgPSAnI2FhYWFhYSc7XG4gICAgc2VsZi54ID0gMDtcbiAgICBzZWxmLnkgPSAtKGNhbnZhc0hlaWdodCAqIC41KTtcbiAgICBzZWxmLndpZHRoID0gLShjYW52YXNXaWR0aCk7XG4gICAgc2VsZi5oZWlnaHQgPSAyO1xuICAgIHNlbGYuZHJhdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdsaWdodGJsdWUnO1xuICAgICAgY29udGV4dC5maWxsUmVjdChcbiAgICAgICAgc2VsZi54LFxuICAgICAgICBzZWxmLnksXG4gICAgICAgIHNlbGYud2lkdGgsXG4gICAgICAgIHNlbGYuaGVpZ2h0XG4gICAgICApO1xuICAgIH1cbiAgfVxuICB2YXIgaE1pZFBvaW50ID0gbmV3IEhvcml6b250YWxNaWRQb2ludCgpO1xuXG4gIGZ1bmN0aW9uIEhvcml6b250YWxMb3dlclJhbmdlICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb2xvciA9ICcjYWFhYWFhJztcbiAgICBzZWxmLnggPSAwO1xuICAgIHNlbGYueSA9IC0oY2FudmFzSGVpZ2h0ICogLjA1KTtcbiAgICBzZWxmLndpZHRoID0gLShjYW52YXNXaWR0aCk7XG4gICAgc2VsZi5oZWlnaHQgPSAxLjU7XG4gICAgc2VsZi5kcmF3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2xpZ2h0Ymx1ZSc7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgICBzZWxmLngsXG4gICAgICAgIHNlbGYueSxcbiAgICAgICAgc2VsZi53aWR0aCxcbiAgICAgICAgc2VsZi5oZWlnaHRcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHZhciBoTG93ZXJSYW5nZSA9IG5ldyBIb3Jpem9udGFsTG93ZXJSYW5nZSgpO1xuXG4gIC8vLmxvZyhwcmljZURhdGFbMF0pO1xuICB2YXIgaSA9IDA7XG4gIGZ1bmN0aW9uIGdldFJhbmdlICgpIHtcblxuICAgIC8vcHJpY2VEYXRhW2ldO1xuXG4gICAgaSsrXG4gIH1cblxuXG4gIC8vIERJU1BMQVkgVkFMVUVTID4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj5cbiAgLy8gPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+PlxuICB2YXIgWWF4aXNWYWx1ZXMgPSBmdW5jdGlvbiAoaGlnaCwgbG93KSB7XG4gICAgLy9kZWJ1Z2dlcjtcblxuICAgIHRoaXMucmFuZ2UgPSBoaWdoIC0gbG93O1xuICAgIC8vdGhpcy5vZmZzZXQgPSB0aGlzLnJhbmdlIC8gMTc7IC8vOVxuICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5yYW5nZSAvIDE3OyAvLzlcbiAgICBpZiAodmVydGljYWxab29tIDw9IC41KSB7XG4gICAgICB0aGlzLmhpZ2hTdGFydCA9ICg5ICogdGhpcy5vZmZzZXQpICsgKHRoaXMub2Zmc2V0ICogLjUpICsgbG93OyAvLzVcbiAgICAgIHRoaXMubG93U3RhcnQgPSAoOCAqIHRoaXMub2Zmc2V0KSArIGxvdzsgLy80XG4gICAgfVxuICAgIGlmICh2ZXJ0aWNhbFpvb20gPiAuNSkge1xuICAgICAgdGhpcy5oaWdoU3RhcnQgPSAoOSAqIHRoaXMub2Zmc2V0KSArIGxvdzsgLy81XG4gICAgICB0aGlzLmxvd1N0YXJ0ID0gKDggKiB0aGlzLm9mZnNldCkgKyBsb3c7IC8vNFxuICAgIH1cblxuICAgIC8vY29uc29sZS5sb2coJ21pZFZhbCcsICsodGhpcy5oaWdoU3RhcnQpLnRvRml4ZWQoNCksICdsb3dlclN0YXJ0JywgKyh0aGlzLmxvd1N0YXJ0KS50b0ZpeGVkKDQpLCAnb2Zmc2V0JywgKyh0aGlzLm9mZnNldCkudG9GaXhlZCg0KSk7XG4gIH1cbiAgLy9UT0RPOiBhZGQgZHluYW1pYyB2YWx1ZXNcbiAgLy8gdmFyIHlWYWxzID0gbmV3IFlheGlzVmFsdWVzKDEzOCwgODcpOyAvLzEzMy4gOTJcbiAgdmFyIHlWYWxzID0gbmV3IFlheGlzVmFsdWVzKDI3NjQuNSwgMTAxMy41KTsgLy8xMzMuIDkyXG5cblxuXG5cbiAgZnVuY3Rpb24gSG9yaXpvbnRhbExpbmVzICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciB5U2NhbGUgPSAxO1xuXG4gICAgc2VsZi5jb2xvciA9ICcjY2NjY2NjJztcbiAgICBzZWxmLnggPSAtKGNhbnZhc1dpZHRoKTtcbiAgICBzZWxmLnkgPSAwO1xuICAgIHNlbGYud2lkdGggPSAxNTtcbiAgICBzZWxmLmhlaWdodCA9IDI7XG4gICAgc2VsZi5idWZmZXIgPSAyMDtcbiAgICBzZWxmLm9mZnNldCA9IChjYW52YXNIZWlnaHQgKiAuNSkgLyA5O1xuICAgIHNlbGYub2Zmc2V0U2NhbGUgPSAxO1xuICAgIHNlbGYubWlkUG9pbnQgPSBjYW52YXNIZWlnaHQgKiAuNTtcbiAgICBzZWxmLmhpZ2hWYWwgPSB5VmFscy5oaWdoU3RhcnQ7XG4gICAgc2VsZi5sb3dlclZhbCA9IHlWYWxzLmxvd1N0YXJ0O1xuICAgIHNlbGYueVZhbHNTY2FsZSA9IDE7XG5cbiAgICAvLyBub24gc3BsaXQgYXBwcm9hY2hcbiAgICAvLyBzZWxmLmRyYXcgPSBmdW5jdGlvbiAobikge1xuICAgIC8vICAgaWYgKChuICogdmVydGljYWxab29tKSA+IChjYW52YXNIZWlnaHQgKiAxMCkgKyAodmVydGljYWxQYW4pKSB7XG4gICAgLy8gICAgIHNlbGYudmFsID0gMDtcbiAgICAvLyAgICAgcmV0dXJuO1xuICAgIC8vICAgfVxuICAgIC8vXG4gICAgLy8gICB2YXIgZmFjdG9yZWRQYW4gPSAodmVydGljYWxQYW4gLyB2ZXJ0aWNhbFpvb20pO1xuICAgIC8vXG4gICAgLy8gICBjb250ZXh0LnNhdmUoKTtcbiAgICAvLyAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgLy9cbiAgICAvLyAgIC8vIGNvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIHZlcnRpY2FsWm9vbSwgMCwgLShjYW52YXNIZWlnaHQgKiAuNSkpO1xuICAgIC8vICAgLy8gY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgKGNhbnZhc0hlaWdodCAqIC41KSArICh2ZXJ0aWNhbFBhbiAvIHZlcnRpY2FsWm9vbSkpO1xuICAgIC8vXG4gICAgLy8gICAvL2NvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIHZlcnRpY2FsWm9vbSwgMCwgKHZlcnRpY2FsUGFuKSk7XG4gICAgLy9cbiAgICAvLyAgIGNvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIHZlcnRpY2FsWm9vbSwgMCwgLSgoY2FudmFzSGVpZ2h0LzIpKSApO1xuICAgIC8vICAgY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgKChjYW52YXNIZWlnaHQvMikpIC0gKHZlcnRpY2FsUGFuKSk7XG4gICAgLy9cbiAgICAvLyAgIC8vIGNvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsICh2ZXJ0aWNhbFBhbikpO1xuICAgIC8vICAgLy8gY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgdmVydGljYWxab29tLCAwLCAtKGNhbnZhc0hlaWdodCAqIC41KSk7XG4gICAgLy8gICAvLyBjb250ZXh0LnRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCBjYW52YXNIZWlnaHQgKiAuNSk7XG4gICAgLy9cbiAgICAvLyAgIC8vY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgKHZlcnRpY2FsUGFuICogMikpO1xuICAgIC8vICAgLy9jb250ZXh0LnRyYW5zZm9ybSgxLCAwLCAwLCB2ZXJ0aWNhbFpvb20sIDAsIC0oY2FudmFzSGVpZ2h0ICogLjUpKTtcbiAgICAvLyAgIC8vY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgKGNhbnZhc0hlaWdodCAqIC41KSAtICh2ZXJ0aWNhbFBhbiAvIHZlcnRpY2FsWm9vbSkpO1xuICAgIC8vXG4gICAgLy8gICAvL2NvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIChjYW52YXNIZWlnaHQgKiAuNSkgKyAodmVydGljYWxQYW4gLyB2ZXJ0aWNhbFpvb20pKTtcbiAgICAvL1xuICAgIC8vICAgY29udGV4dC5maWxsU3R5bGUgPSAncmVkJztcbiAgICAvLyAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgLy8gICAgIHNlbGYueCxcbiAgICAvLyAgICAgLShuKSArICh2ZXJ0aWNhbFBhbiAqIDIpLFxuICAgIC8vICAgICBzZWxmLndpZHRoLFxuICAgIC8vICAgICBzZWxmLmhlaWdodCAvIHZlcnRpY2FsWm9vbVxuICAgIC8vICAgKTtcbiAgICAvL1xuICAgIC8vICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgLy9cbiAgICAvLyAgIC8vIGNvbnRleHQuZm9udCA9ICdub3JtYWwgJyArIDIwICsgJ3B4IEFyaWFsJztcbiAgICAvLyAgIC8vIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgLy8gICAvLyBjb250ZXh0LmZpbGxUZXh0KFxuICAgIC8vICAgLy8gICBzZWxmLnZhbCxcbiAgICAvLyAgIC8vICAgLShjYW52YXNXaWR0aCAtIDIwKSxcbiAgICAvLyAgIC8vICAgLShuKSAtICh2ZXJ0aWNhbFBhbiAvIHZlcnRpY2FsWm9vbSlcbiAgICAvLyAgIC8vICk7XG4gICAgLy9cbiAgICAvLyAgIHNlbGYudmFsID0gc2VsZi52YWwgKyAxMDtcbiAgICAvLyAgIHNlbGYuZHJhdyhuICsgKHNlbGYub2Zmc2V0KSk7XG4gICAgLy8gfVxuXG4gICAgc2VsZi5kcmF3VXBwZXIgPSBmdW5jdGlvbiAobiwgY29sb3IpIHtcbiAgICAgIC8vY29uc29sZS5sb2coZGlyZWN0aW9uKTtcbiAgICAgIGdldFJhbmdlKCk7XG4gICAgICBpZiAobiAqIHZlcnRpY2FsWm9vbSA+IChjYW52YXNIZWlnaHQgKiAuNSkgKyAodmVydGljYWxQYW4gKiB2ZXJ0aWNhbFpvb20pKSB7XG4gICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgIHNlbGYuaGlnaFZhbCA9ICsoeVZhbHMuaGlnaFN0YXJ0KTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhpKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh2ZXJ0aWNhbFpvb20pO1xuICAgICAgICBpZiAodmVydGljYWxab29tIDw9IC41KSB7XG4gICAgICAgICAgc2VsZi5vZmZzZXRTY2FsZSA9IC41O1xuICAgICAgICAgIHNlbGYueVZhbHNTY2FsZSA9IDI7XG4gICAgICAgICAgc2VsZi5oaWdoVmFsID0gc2VsZi5oaWdoVmFsICsgKHlWYWxzLm9mZnNldCAqIC41KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmVydGljYWxab29tID4gLjUpIHtcbiAgICAgICAgICBzZWxmLm9mZnNldFNjYWxlID0gMTtcbiAgICAgICAgICBzZWxmLnlWYWxzU2NhbGUgPSAxO1xuICAgICAgICAgIHNlbGYuaGlnaFZhbCA9IHlWYWxzLmhpZ2hTdGFydDtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgLy8gdmVydGljYWwgem9vbVxuICAgICAgY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgdmVydGljYWxab29tLCAwLCAtKGNhbnZhc0hlaWdodCAqIC41KSk7XG4gICAgICAvLyB2ZXJ0aWNhbCBwYW5cbiAgICAgIGNvbnRleHQudHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIChjYW52YXNIZWlnaHQgKiAuNSkgLSAodmVydGljYWxQYW4pKTtcblxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBzZWxmLmNvbG9yO1xuICAgICAgY29udGV4dC5maWxsUmVjdChcbiAgICAgICAgc2VsZi54LFxuICAgICAgICAtKHNlbGYubWlkUG9pbnQgKyBuKSArICh2ZXJ0aWNhbFBhbiArIHZlcnRpY2FsUGFuKSxcbiAgICAgICAgc2VsZi53aWR0aCxcbiAgICAgICAgc2VsZi5oZWlnaHQgLyB2ZXJ0aWNhbFpvb21cbiAgICAgICk7XG5cbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5mb250ID0gJ25vcm1hbCAnICsgMjAgKyAncHggQXJpYWwnO1xuICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgIChzZWxmLmhpZ2hWYWwpLnRvRml4ZWQoMiksXG4gICAgICAgIC0oY2FudmFzV2lkdGggLSAyMCksXG4gICAgICAgIC0oKG4gKiB2ZXJ0aWNhbFpvb20pICsgc2VsZi5taWRQb2ludCAtICh2ZXJ0aWNhbFBhbiAqIHZlcnRpY2FsWm9vbSkpXG4gICAgICApO1xuXG4gICAgICBpKys7XG4gICAgICBzZWxmLmhpZ2hWYWwgPSAoKyhzZWxmLmhpZ2hWYWwpICsgKyh5VmFscy5vZmZzZXQgKiBzZWxmLnlWYWxzU2NhbGUpKTtcbiAgICAgIHNlbGYuZHJhd1VwcGVyKG4gKyAoc2VsZi5vZmZzZXQgLyBzZWxmLm9mZnNldFNjYWxlKSwgc2VsZi5jb2xvcik7XG4gICAgfVxuXG4gICAgc2VsZi5kcmF3TG93ZXIgPSBmdW5jdGlvbiAobiwgY29sb3IpIHtcbiAgICAgIGlmKG4gKiB2ZXJ0aWNhbFpvb20gPiAoY2FudmFzSGVpZ2h0ICogLjUpIC0gKHZlcnRpY2FsUGFuICogdmVydGljYWxab29tKSkge1xuICAgICAgICBzZWxmLmxvd2VyVmFsID0gKyh5VmFscy5sb3dTdGFydCk7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsWm9vbSA8PSAuNSkge1xuICAgICAgICAgIC8vc2VsZi5vZmZzZXRTY2FsZSA9IC41O1xuICAgICAgICAgIC8vc2VsZi55VmFsc1NjYWxlID0gMjtcbiAgICAgICAgICBzZWxmLmxvd2VyVmFsID0gc2VsZi5sb3dlclZhbCAtICh5VmFscy5vZmZzZXQgKiAuNSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlcnRpY2FsWm9vbSA+IC41KSB7XG4gICAgICAgICAgLy9zZWxmLm9mZnNldFNjYWxlID0gMTtcbiAgICAgICAgICAvL3NlbGYueVZhbHNTY2FsZSA9IDE7XG4gICAgICAgICAgc2VsZi5sb3dlclZhbCA9IHlWYWxzLmxvd1N0YXJ0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBjb25zb2xlLmxvZyh2ZXJ0aWNhbFBhbik7XG5cbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgY29udGV4dC50cmFuc2Zvcm0oMSwgMCwgMCwgdmVydGljYWxab29tLCAwLCAtKGNhbnZhc0hlaWdodCAqIC41KSk7XG4gICAgICBjb250ZXh0LnRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAoY2FudmFzSGVpZ2h0ICogLjUpIC0gKHZlcnRpY2FsUGFuKSk7XG4gICAgICAvLyBjb250ZXh0LnRyYW5zbGF0ZSgwLCAtKGNhbnZhc0hlaWdodCAqIC41KSk7XG4gICAgICAvLyBjb250ZXh0LnNjYWxlKDEsIHZlcnRpY2FsWm9vbSk7XG4gICAgICAvLyBjb250ZXh0LnRyYW5zbGF0ZSgwLCBjYW52YXNIZWlnaHQgKiAuNSk7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKHZlcnRpY2FsUGFuKTtcblxuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgIGNvbnRleHQuZmlsbFJlY3QoXG4gICAgICAgIHNlbGYueCxcbiAgICAgICAgLShzZWxmLm1pZFBvaW50IC0gbikgKyAodmVydGljYWxQYW4pICsgKHZlcnRpY2FsUGFuKSxcbiAgICAgICAgc2VsZi53aWR0aCxcbiAgICAgICAgc2VsZi5oZWlnaHQgLyB2ZXJ0aWNhbFpvb21cbiAgICAgICk7XG5cbiAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgY29udGV4dC5mb250ID0gJ25vcm1hbCAnICsgMjAgKyAncHggQXJpYWwnO1xuICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgIChzZWxmLmxvd2VyVmFsKS50b0ZpeGVkKDIpLFxuICAgICAgICAtKGNhbnZhc1dpZHRoIC0gMjApLFxuICAgICAgICAoKG4gKiB2ZXJ0aWNhbFpvb20pIC0gc2VsZi5taWRQb2ludCArICh2ZXJ0aWNhbFBhbiAqIHZlcnRpY2FsWm9vbSkpXG4gICAgICApO1xuXG4gICAgICBzZWxmLmxvd2VyVmFsID0gKHNlbGYubG93ZXJWYWwgLSh5VmFscy5vZmZzZXQgKiBzZWxmLnlWYWxzU2NhbGUpKTtcbiAgICAgIHNlbGYuZHJhd0xvd2VyKG4gKyAoc2VsZi5vZmZzZXQgLyBzZWxmLm9mZnNldFNjYWxlKSwgc2VsZi5jb2xvcik7XG4gICAgfVxuXG4gIH1cbiAgdmFyIGhMaW5lcyA9IG5ldyBIb3Jpem9udGFsTGluZXMoKTtcblxuICBmdW5jdGlvbiB1cGRhdGUgKGVsYXBzZWQpIHtcblxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyICgpIHtcbiAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCAtKGNhbnZhc1dpZHRoKSwgLShjYW52YXNIZWlnaHQpKTtcblxuICAgIC8vaExpbmVzLmRyYXcoMCk7XG4gICAgLy9zY2FsZS5kcmF3KCk7XG5cbiAgICAvLyBoVXBwZXJSYW5nZS5kcmF3KCk7XG4gICAgLy8gaE1pZFBvaW50LmRyYXcoKTtcbiAgICAvLyBoTG93ZXJSYW5nZS5kcmF3KClcblxuICAgIGhMaW5lcy5kcmF3VXBwZXIoKGhMaW5lcy5vZmZzZXQgLyAyKSAvIGhMaW5lcy5vZmZzZXRTY2FsZSwgJ2xpZ2h0Ymx1ZScpO1xuICAgIGhMaW5lcy5kcmF3TG93ZXIoKGhMaW5lcy5vZmZzZXQgLyAyKSAvIGhMaW5lcy5vZmZzZXRTY2FsZSwgJ2xpZ2h0Ymx1ZScpO1xuICAgIC8vY1ByaWNlLmRyYXcoKTtcblxuICB9XG5cbiAgY29udGV4dC50cmFuc2xhdGUoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvamF2YXNjcmlwdHMvY2hhcnQteWF4aXMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 5 */
/* no static exports found */
/*!***************************************!*\
  !*** ./src/javascripts/price-data.js ***!
  \***************************************/
/***/ (function(module, exports) {

eval("var applData = null;\n\n(function priceData() {\n  'use strict';\n\n  // var get = {\n  //   url:'api/aapl',\n  //   method: 'get'\n  // }\n\n  // marmottajax({\n  //   url:'api/aapl',\n  //   method: 'get'\n  // }).then(function (data) {\n  //   console.log(JSON.parse(data));\n  //   applData = data;\n  //   chartCanvas();\n  //   yAxisCanvas();\n  //   xAxisCanvas();\n  // });\n\n  // fetch('https://www.quandl.com/api/v3/datasets/WIKI/aapl/data.json?limit=100&end_date=&api_key=wHW3yQNffR6nKooC_ZhJ', {\n\n  fetch('https://www.quandl.com/api/v3/datasets/BCHARTS/BITSTAMPUSD.json?limit=100&end_date=&api_key=wHW3yQNffR6nKooC_ZhJ', {\n    method: 'GET'\n  }).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    console.log(json);\n    // console.log(JSON.parse(data));\n    applData = json.dataset.data.map(function (d) {\n      return {\n        Close: d[4],\n        Date: d[0],\n        High: d[2],\n        Low: d[3],\n        Open: d[1],\n        Volume: d[5]\n      };\n    });\n    chartCanvas();\n    yAxisCanvas();\n    xAxisCanvas();\n  });\n})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvamF2YXNjcmlwdHMvcHJpY2UtZGF0YS5qcz81NGYwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcHBsRGF0YSA9IG51bGw7XG5cbihmdW5jdGlvbiBwcmljZURhdGEgKCkge1xuICAndXNlIHN0cmljdCdcblxuICAvLyB2YXIgZ2V0ID0ge1xuICAvLyAgIHVybDonYXBpL2FhcGwnLFxuICAvLyAgIG1ldGhvZDogJ2dldCdcbiAgLy8gfVxuXG4gIC8vIG1hcm1vdHRhamF4KHtcbiAgLy8gICB1cmw6J2FwaS9hYXBsJyxcbiAgLy8gICBtZXRob2Q6ICdnZXQnXG4gIC8vIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgLy8gICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKGRhdGEpKTtcbiAgLy8gICBhcHBsRGF0YSA9IGRhdGE7XG4gIC8vICAgY2hhcnRDYW52YXMoKTtcbiAgLy8gICB5QXhpc0NhbnZhcygpO1xuICAvLyAgIHhBeGlzQ2FudmFzKCk7XG4gIC8vIH0pO1xuXG4gIC8vIGZldGNoKCdodHRwczovL3d3dy5xdWFuZGwuY29tL2FwaS92My9kYXRhc2V0cy9XSUtJL2FhcGwvZGF0YS5qc29uP2xpbWl0PTEwMCZlbmRfZGF0ZT0mYXBpX2tleT13SFczeVFOZmZSNm5Lb29DX1poSicsIHtcblxuICBmZXRjaCgnaHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjMvZGF0YXNldHMvQkNIQVJUUy9CSVRTVEFNUFVTRC5qc29uP2xpbWl0PTEwMCZlbmRfZGF0ZT0mYXBpX2tleT13SFczeVFOZmZSNm5Lb29DX1poSicsIHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH0pLnRoZW4oZnVuY3Rpb24oanNvbil7XG4gICAgY29uc29sZS5sb2coanNvbik7XG4gICAgLy8gY29uc29sZS5sb2coSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgYXBwbERhdGEgPSBqc29uLmRhdGFzZXQuZGF0YS5tYXAoZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgQ2xvc2U6IGRbNF0sXG4gICAgICAgIERhdGU6IGRbMF0sXG4gICAgICAgIEhpZ2g6IGRbMl0sXG4gICAgICAgIExvdzogZFszXSxcbiAgICAgICAgT3BlbjogZFsxXSxcbiAgICAgICAgVm9sdW1lOiBkWzVdXG4gICAgICB9XG4gICAgfSk7XG4gICAgY2hhcnRDYW52YXMoKTtcbiAgICB5QXhpc0NhbnZhcygpO1xuICAgIHhBeGlzQ2FudmFzKCk7XG4gIH0pO1xuXG59KCkpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qYXZhc2NyaXB0cy9wcmljZS1kYXRhLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */
/* no static exports found */
/*!************************************!*\
  !*** ./src/stylesheets/style.scss ***!
  \************************************/
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXNoZWV0cy9zdHlsZS5zY3NzP2UwMTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zdHlsZXNoZWV0cy9zdHlsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 7 */
/* no static exports found */
/* all exports used */
/*!****************************!*\
  !*** ./src/stock-chart.js ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__stylesheets_style_scss__ = __webpack_require__(/*! ./stylesheets/style.scss */ 6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__stylesheets_style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stylesheets_style_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__javascripts_price_data__ = __webpack_require__(/*! ./javascripts/price-data */ 5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__javascripts_price_data___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__javascripts_price_data__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__javascripts_app__ = __webpack_require__(/*! ./javascripts/app */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__javascripts_app___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__javascripts_app__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__javascripts_canvas_layout__ = __webpack_require__(/*! ./javascripts/canvas-layout */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__javascripts_canvas_layout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__javascripts_canvas_layout__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__javascripts_canvas__ = __webpack_require__(/*! ./javascripts/canvas */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__javascripts_canvas___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__javascripts_canvas__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__javascripts_chart_xaxis__ = __webpack_require__(/*! ./javascripts/chart-xaxis */ 3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__javascripts_chart_xaxis___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__javascripts_chart_xaxis__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__javascripts_chart_yaxis__ = __webpack_require__(/*! ./javascripts/chart-yaxis */ 4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__javascripts_chart_yaxis___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__javascripts_chart_yaxis__);\n\n\n\n\n\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc3RvY2stY2hhcnQuanM/MjIyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vc3R5bGVzaGVldHMvc3R5bGUuc2Nzcyc7XG5cbmltcG9ydCAnLi9qYXZhc2NyaXB0cy9wcmljZS1kYXRhJztcbmltcG9ydCAnLi9qYXZhc2NyaXB0cy9hcHAnO1xuaW1wb3J0ICcuL2phdmFzY3JpcHRzL2NhbnZhcy1sYXlvdXQnO1xuaW1wb3J0ICcuL2phdmFzY3JpcHRzL2NhbnZhcyc7XG5pbXBvcnQgJy4vamF2YXNjcmlwdHMvY2hhcnQteGF4aXMnO1xuaW1wb3J0ICcuL2phdmFzY3JpcHRzL2NoYXJ0LXlheGlzJztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL3N0b2NrLWNoYXJ0LmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ]);